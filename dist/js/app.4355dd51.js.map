{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/ScheduleBuilder.vue?95e4","webpack:///./src/views/Dad.vue?3f87","webpack:///./src/App.vue","webpack:///./src/components/LoggedInNavbar.vue","webpack:///./src/views/Home.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?18f8","webpack:///./src/views/Home.vue?f957","webpack:///./src/views/ScoreBoard.vue","webpack:///./src/components/ChooseName.vue","webpack:///src/components/ChooseName.vue","webpack:///./src/components/ChooseName.vue?1cb1","webpack:///./src/components/ChooseName.vue?2ed7","webpack:///src/views/ScoreBoard.vue","webpack:///./src/views/ScoreBoard.vue?f083","webpack:///./src/views/ScoreBoard.vue?ab64","webpack:///./src/views/Dad.vue","webpack:///src/views/Dad.vue","webpack:///./src/views/Dad.vue?19f9","webpack:///./src/views/Dad.vue?2a5e","webpack:///./src/views/ScheduleBuilder.vue","webpack:///./src/scheduleGenAlgo/generateSchedule.js","webpack:///./src/firebase.js","webpack:///src/views/ScheduleBuilder.vue","webpack:///./src/views/ScheduleBuilder.vue?4860","webpack:///./src/views/ScheduleBuilder.vue?56eb","webpack:///./src/views/Scorers.vue","webpack:///src/views/Scorers.vue","webpack:///./src/views/Scorers.vue?9029","webpack:///./src/views/Scorers.vue?4eba","webpack:///./src/views/Schedule.vue","webpack:///src/views/Schedule.vue","webpack:///./src/views/Schedule.vue?8740","webpack:///./src/views/Schedule.vue?2f71","webpack:///./src/views/Login.vue","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?97cc","webpack:///./src/views/Login.vue?24a5","webpack:///./src/views/PageNotFound.vue","webpack:///src/views/PageNotFound.vue","webpack:///./src/views/PageNotFound.vue?1780","webpack:///./src/views/PageNotFound.vue?55bf","webpack:///./src/views/Logout.vue","webpack:///src/views/Logout.vue","webpack:///./src/views/Logout.vue?8df5","webpack:///./src/views/Logout.vue?909f","webpack:///./src/router/index.js","webpack:///src/components/LoggedInNavbar.vue","webpack:///./src/components/LoggedInNavbar.vue?716b","webpack:///./src/components/LoggedInNavbar.vue?bf7c","webpack:///./src/components/LoggedOutNavbar.vue","webpack:///src/components/LoggedOutNavbar.vue","webpack:///./src/components/LoggedOutNavbar.vue?7f8e","webpack:///./src/components/LoggedOutNavbar.vue?1ed5","webpack:///src/App.vue","webpack:///./src/App.vue?ff1e","webpack:///./src/App.vue?315a","webpack:///./src/store/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/assets/Bronze-Medal.png","webpack:///./src/App.vue?8731","webpack:///./src/assets/Gold-Medal.png","webpack:///./src/views/Login.vue?ec22","webpack:///./src/views/Scorers.vue?a211","webpack:///./src/assets/Silver-Medal.png","webpack:///./src/views/PageNotFound.vue?54c4"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_c","_self","attrs","staticRenderFns","toHome","scopedSlots","on","_b","toScorers","render","_vm","this","staticClass","_v","components","methods","component","racer","racerId","model","scheduleName","expression","loaded","valid","computed","set","nameChanged","created","beforeDestroy","console","userId","ChooseName","currentRaceRacers","racersMap","currentRaceId","Scorers","schedule","_s","nextRaceRacers","rendered","scheduleId","router","path","next","previous","callback","scheduleType","numRaces","id","$set","fn","createSchedule","getMinDiagonal","matrix","skipIndex","minIndex","includes","getMaxDiagonal","maxIndex","getMinRow","alreadyRacing","minValue","Number","MAX_SAFE_INTEGER","tempColTotal","addRacersToMatrix","r1","r2","r3","r4","removeRacersFromMatrix","getAllMaxOnDiagonal","maxIndexes","stealFromPreviousRace","lastRace","tempStolen","pop","unshift","getStatsFromSchedule","numRacers","temp","twoRacesInARow","race","containsSameRacer","lane","generateLaneMatrix","minLane","maxLane","getStatsFromMatrix","leastAppearancesInLane","mostAppearancesInLane","numOfBack2BackAppearances","numRacePerCar","maxNumMatchup","minNumMatchup","matrixDimensions","totalNumMatchupList","numberOfRacesPerCar","mostMatchUps","leastMatchUps","matchupList","laneMatrix","possibleSwap","raceArr","currentRacer","target","currentRacerIndex","indexOf","bestHeuristic","lane1","lane2","tempHeuristic","calculateHeuristic","car1Index","car1Lane","car2Index","car2Lane","currentState","Math","pow","newState","racerSwap","raceIndex","car1","car2","race1","race2","undefined","log","createInitialSchedule","numberOfRacers","minimumNumberRaces","racerMatrix","tempArr","racersWithFullSchedule","equalizeRacingLanes","numRacesPerRacer","targetAppearancesPerLane","floor","changeMade","racerIndex","maxHeuristic","scheduleIndex","laneIndex1","laneIndex2","swapResult","shuffleRaces","indexOfFailures","schedulePieces","temp1","piece1","piece2","concat","reverse","k","topHalfPiece1","bottomHalfPiece1","newSchedule","useRealNumbers","racerNumbers","generateSchedule","minRaces","initialScheduleObject","stats","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","initializeApp","db","getFirestore","async","replaceSchedule","originalSchedule","getScheduleRaces","batch","writeBatch","forEach","myRef","doc","dbId","delete","counter","myNewRef","collection","padId","racerScores","racerIds","commit","intId","stringId","query","getDocs","e","updateScore","newRaceInfo","oldRaceInfo","delta","runTransaction","racerRefs","newScores","racerRef","newScore","transaction","score","update","scheduleRef","alert","auth","getAuth","loginWithEmailAndPassword","email","password","setPersistence","browserSessionPersistence","signInWithEmailAndPassword","user","forgotPasswordEmail","sendPasswordResetEmail","createUser","createUserWithEmailAndPassword","logOut","signOut","addScheduleName","newName","namesArr","setDoc","Names","numRacesRules","v","racerNameRules","racerIdRules","removedRacers","addRacer","sortRacersByName","sortRacersById","removeRacer","newRacerList","nameChange","clearScreenData","racersArr","$event","currentRaceScores","renderButton","firstRace","allScored","currentRaceAlreadyScored","nextRace","previousRace","clearRace","scoreLane","finish","loadPageData","loginForm","emailRule","passwordRule","errorMessage","switchToRegister","switchToLogin","switchToForgotPassword","Vue","use","VueRouter","routes","Home","ScoreBoard","meta","requiresAuth","Dad","ScheduleBuilder","Schedule","Login","Logout","PageNotFound","beforeEnter","beforeEach","to","from","matched","some","record","app","$store","getters","isLoggedIn","toScoreBoard","toDad","toScheduleBuilder","toSchedule","logout","goToHome","goToLogin","LoggedInNavbar","LoggedOutNavbar","Vuex","vuexSessionStorage","VuexPersistence","storage","sessionsStorage","reducer","state","store","Store","plugins","plugin","allScheduleNames","racers","Map","scoreBoard","mutations","lootStore","doNothing","updateRacers","updateSchedule","updateCurrentRace","updateScoreBoard","updateUser","updateAllScheduleNames","names","updateScheduleName","actions","myRemRef","allRacers","allRacersMap","mySchedule","myQuery","myScoreBoard","onSnapshot","snapshot","racerNumber","racerName","racerScore","numberOfRaces","sortedScoreBoard","sort","a","b","onAuthStateChanged","uid","getDoc","Vuetify","productionTip","vuetify","h","App","$mount"],"mappings":"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","file":"js/app.4355dd51.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduleBuilder.vue?vue&type=style&index=0&id=151b75a0&prod&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dad.vue?vue&type=style&index=0&id=410e1e81&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',[(_vm.user!=='')?_c('LoggedInNavbar'):_c('LoggedOutNavbar'),_c('router-view')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-layout',[_c('v-app-bar',{attrs:{\"color\":\"primary\",\"density\":\"compact\"}},[_c('v-app-bar-title',[_vm._v(\"Pine Car Derby\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.toHome}},[_c('v-icon',[_vm._v(\"mdi-home\")])],1),_c('v-menu',{attrs:{\"left\":\"\",\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}])},[_c('v-list',[_c('v-list-item',{key:\"ScheduleBuilder\",on:{\"click\":_vm.toScheduleBuilder}},[_c('v-list-item-title',[_vm._v(\"Schedule Builder\")])],1),_c('v-list-item',{key:\"Scorers\",on:{\"click\":_vm.toScorers}},[_c('v-list-item-title',[_vm._v(\"Scorers\")])],1),_c('v-list-item',{key:\"ScoreBoard\",on:{\"click\":_vm.toScoreBoard}},[_c('v-list-item-title',[_vm._v(\"Score Board\")])],1),_c('v-list-item',{key:\"Dad\",on:{\"click\":_vm.toDad}},[_c('v-list-item-title',[_vm._v(\"Dad's Screen\")])],1),_c('v-list-item',{key:\"Logout\",on:{\"click\":_vm.logout}},[_c('v-list-item-title',[_vm._v(\"Logout\")])],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home\"},[_vm._v(\" Home \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"home\">\r\n    Home\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    \r\n  },\r\n  methods: {\r\n    \r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=4f82d477&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',[_c('br'),_c('ChooseName',{on:{\"change_name_event\":function($event){return _vm.loadPageData()}}}),_c('br'),(_vm.scheduleName!=='')?_c('div',[_c('v-card',[_c('v-row',[_c('v-col',[_vm._v(\" Place: \")]),_c('v-col',[_vm._v(\" Car Number: \")]),_c('v-col',[_vm._v(\" Name: \")]),_c('v-col',[_vm._v(\" Score: \")])],1)],1),_vm._l((_vm.ScoreBoard.scoreBoard),function(racer,index){return _c('v-card',{key:racer.racerId},[_c('v-row',[_c('v-col',[_vm._v(\" \"+_vm._s((index + 1))+\" \")]),_c('v-col',[_vm._v(\" \"+_vm._s(racer.racerNumber)+\" \")]),_c('v-col',[_vm._v(\" \"+_vm._s(racer.racerName)+\" \")]),_c('v-col',[_vm._v(\" \"+_vm._s(racer.racerScore)+\" \")])],1)],1)})],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{attrs:{\"data-app\":\"\"}},[_c('v-select',{attrs:{\"label\":\"Name of Schedule\",\"items\":_vm.allScheduleNames},on:{\"change\":_vm.nameChanged},model:{value:(_vm.scheduleName),callback:function ($$v) {_vm.scheduleName=$$v},expression:\"scheduleName\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<v-card data-app>\r\n    <v-select\r\n    label=\"Name of Schedule\"\r\n    :items=\"allScheduleNames\"\r\n    v-model=\"scheduleName\"\r\n    @change=\"nameChanged\"\r\n    >\r\n    </v-select>\r\n</v-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nexport default {\r\n    name: \"ChooseName\",\r\n    data: ()=> ({\r\n        loaded: false,\r\n        valid: true,\r\n    }),\r\n    computed:{\r\n        ...mapState([\"allScheduleNames\",\"user\"]),\r\n        scheduleName :{\r\n            get () { return this.$store.state.scheduleName},\r\n            set(value) {this.$store.commit(\"updateScheduleName\",{name: value})}\r\n        }\r\n    },\r\n    async created(){\r\n        await this.$store.dispatch(\"getAllScheduleNames\");\r\n        this.loaded=true;\r\n    },\r\n    methods: {\r\n        nameChanged(){\r\n            this.$emit(\"change_name_event\");\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChooseName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChooseName.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChooseName.vue?vue&type=template&id=574490af&\"\nimport script from \"./ChooseName.vue?vue&type=script&lang=js&\"\nexport * from \"./ChooseName.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-app>\r\n    <br>\r\n    <ChooseName @change_name_event=\"loadPageData()\" />\r\n    <br>\r\n    <div v-if=\"scheduleName!==''\">\r\n      <v-card>\r\n        <v-row>\r\n          <v-col>\r\n            Place:\r\n          </v-col>\r\n          <v-col>\r\n            Car Number:\r\n          </v-col>\r\n          <v-col>\r\n            Name:\r\n          </v-col>\r\n          <v-col>\r\n            Score:\r\n          </v-col>\r\n        </v-row>\r\n      </v-card>\r\n      \r\n      <v-card v-for=\"(racer, index) in ScoreBoard.scoreBoard\" :key=\"racer.racerId\">\r\n        <v-row>\r\n          <v-col>\r\n            {{(index + 1)}}\r\n          </v-col>\r\n          <v-col>\r\n            {{racer.racerNumber}} \r\n          </v-col>\r\n          <v-col>\r\n            {{racer.racerName}} \r\n          </v-col>\r\n          <v-col>\r\n            {{racer.racerScore}}\r\n          </v-col>\r\n        </v-row>\r\n      </v-card>\r\n    </div>\r\n    \r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport ChooseName from \"../components/ChooseName.vue\";\r\nexport default {\r\n    name: \"ScoreBoard\",\r\n    computed: {\r\n        ...mapState([\"ScoreBoard\", \"racersId\", \"user\", \"scheduleName\"])\r\n    },\r\n    data: ()=>({\r\n    }),\r\n    created() {\r\n      window.scrollTo(0, 0);\r\n      if(this.scheduleName!==''){\r\n        this.loadPageData();\r\n      } \r\n    },\r\n    beforeDestroy(){\r\n      // remove subscription to scoreboard\r\n      if(this.unsubscribe){\r\n        this.unsubscribe();\r\n        console.log(\"Successfully unsubscribed from scoreboard on close\")\r\n      }\r\n      \r\n    },\r\n    methods: {\r\n        async loadPageData() {\r\n          if(this.unsubscribe){\r\n            this.unsubscribe();\r\n          }\r\n            this.unsubscribe = await this.$store.dispatch(\"subscribeToScoreBoard\", { userId: this.user, scheduleName: this.scheduleName });\r\n        },\r\n    },\r\n    components: { ChooseName }\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScoreBoard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScoreBoard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScoreBoard.vue?vue&type=template&id=7e76a09e&\"\nimport script from \"./ScoreBoard.vue?vue&type=script&lang=js&\"\nexport * from \"./ScoreBoard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',[_c('br'),_c('ChooseName',{on:{\"change_name_event\":function($event){return _vm.loadPageData()}}}),_c('br'),(_vm.rendered && _vm.scheduleName!=='')?_c('div',[_c('div',{staticClass:\"label\"},[_vm._v(\" Current Race: \"+_vm._s(_vm.currentRaceId+1)+\" / \"+_vm._s(_vm.Scorers.schedule.length)+\" \")]),_c('v-row',[_c('v-col',[(_vm.currentRaceRacers.length > 3)?_c('v-card',{staticClass:\"my-card\",attrs:{\"color\":\"yellow\"}},[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.currentRaceRacers[3]).id)+\" \")]):_c('v-card',{staticClass:\"my-card\",attrs:{\"color\":\"yellow\"}},[_vm._v(\" Empty \")])],1),_c('v-col',[_c('v-card',{staticClass:\"my-card\",attrs:{\"color\":\"green\"}},[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.currentRaceRacers[2]).id)+\" \")])],1),_c('v-col',[_c('v-card',{staticClass:\"my-card\",attrs:{\"color\":\"blue\"}},[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.currentRaceRacers[1]).id)+\" \")])],1),_c('v-col',[_c('v-card',{staticClass:\"my-card\",attrs:{\"color\":\"red\"}},[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.currentRaceRacers[0]).id)+\" \")])],1)],1),(_vm.currentRaceId<_vm.Scorers.schedule.length-1)?_c('div',{staticClass:\"label\"},[_vm._v(\" Next Race: \")]):_vm._e(),(_vm.currentRaceId<_vm.Scorers.schedule.length-1)?_c('v-row',[_c('v-col',[(_vm.nextRaceRacers.length > 3)?_c('v-card',{staticClass:\"my-card\",attrs:{\"color\":\"yellow darken-2\"}},[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.nextRaceRacers[3]).id)+\" \")]):_c('v-card',{staticClass:\"my-card\",attrs:{\"color\":\"yellow darken-2\"}},[_vm._v(\" Empty \")])],1),_c('v-col',[_c('v-card',{staticClass:\"my-card\",attrs:{\"color\":\"green darken-2\"}},[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.nextRaceRacers[2]).id)+\" \")])],1),_c('v-col',[_c('v-card',{staticClass:\"my-card\",attrs:{\"color\":\"blue darken-2\"}},[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.nextRaceRacers[1]).id)+\" \")])],1),_c('v-col',[_c('v-card',{staticClass:\"my-card\",attrs:{\"color\":\"red darken-2\"}},[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.nextRaceRacers[0]).id)+\" \")])],1)],1):_vm._e(),_c('v-row',[_c('v-col',[_c('v-btn',{attrs:{\"fab\":\"\"},on:{\"click\":function($event){return _vm.previous()}}},[_c('v-icon',[_vm._v(\" mdi-arrow-left-drop-circle-outline \")])],1)],1),_c('v-col',[_c('v-btn',{attrs:{\"fab\":\"\"},on:{\"click\":function($event){return _vm.next()}}},[_c('v-icon',[_vm._v(\" mdi-arrow-right-drop-circle-outline \")])],1)],1)],1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app>\r\n    <br />\r\n    <ChooseName @change_name_event=\"loadPageData()\" />\r\n    <br>\r\n    <div v-if=\"rendered && scheduleName!==''\">\r\n      <div class=\"label\">\r\n        Current Race: {{ currentRaceId+1 }} / {{ Scorers.schedule.length }}\r\n      </div>\r\n      <v-row>\r\n        <v-col>\r\n          <v-card\r\n            v-if=\"currentRaceRacers.length > 3\"\r\n            color=\"yellow\"\r\n            class=\"my-card\"\r\n          >\r\n            {{ racersMap.get(currentRaceRacers[3]).id }}\r\n          </v-card>\r\n          <v-card\r\n            v-else\r\n            color=\"yellow\"\r\n            class=\"my-card\"\r\n          >\r\n            Empty\r\n          </v-card>\r\n        </v-col>\r\n        <v-col>\r\n          <v-card\r\n            color=\"green\"\r\n            class=\"my-card\"\r\n          >\r\n            {{ racersMap.get(currentRaceRacers[2]).id }}\r\n          </v-card>\r\n        </v-col>\r\n        <v-col>\r\n          <v-card\r\n            color=\"blue\"\r\n            class=\"my-card\"\r\n          >\r\n            {{ racersMap.get(currentRaceRacers[1]).id }}\r\n          </v-card>\r\n        </v-col>\r\n        <v-col>\r\n          <v-card\r\n            color=\"red\"\r\n            class=\"my-card\"\r\n          >\r\n            {{ racersMap.get(currentRaceRacers[0]).id }}\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n      <div class=\"label\" v-if=\"currentRaceId<Scorers.schedule.length-1\">\r\n        Next Race:\r\n      </div>\r\n      <v-row v-if=\"currentRaceId<Scorers.schedule.length-1\">\r\n        <v-col>\r\n          <v-card\r\n          v-if=\"nextRaceRacers.length > 3\"\r\n            color=\"yellow darken-2\"\r\n            class=\"my-card\"\r\n          >\r\n            {{ racersMap.get(nextRaceRacers[3]).id }}\r\n          </v-card>\r\n          <v-card\r\n          v-else\r\n            color=\"yellow darken-2\"\r\n            class=\"my-card\"\r\n          >\r\n            Empty\r\n          </v-card>\r\n        </v-col>\r\n        <v-col>\r\n          <v-card\r\n            color=\"green darken-2\"\r\n            class=\"my-card\"\r\n          >\r\n            {{ racersMap.get(nextRaceRacers[2]).id }}\r\n          </v-card>\r\n        </v-col>\r\n        <v-col>\r\n          <v-card\r\n            color=\"blue darken-2\"\r\n            class=\"my-card\"\r\n          >\r\n            {{ racersMap.get(nextRaceRacers[1]).id }}\r\n          </v-card>\r\n        </v-col>\r\n        <v-col>\r\n          <v-card\r\n            color=\"red darken-2\"\r\n            class=\"my-card\"\r\n          >\r\n            {{ racersMap.get(nextRaceRacers[0]).id }}\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col>\r\n          <v-btn\r\n            fab\r\n            v-on:click=\"previous()\"\r\n          >\r\n            <v-icon>\r\n              mdi-arrow-left-drop-circle-outline\r\n            </v-icon>\r\n          </v-btn>\r\n        </v-col>\r\n        <v-col>\r\n          <v-btn\r\n            fab\r\n            v-on:click=\"next()\"\r\n          >\r\n            <v-icon>\r\n              mdi-arrow-right-drop-circle-outline\r\n            </v-icon>\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </div>  \r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport router from \"@/router/index.js\";\r\nimport { mapState } from \"vuex\";\r\nimport ChooseName from \"../components/ChooseName.vue\";\r\nexport default {\r\n    name: \"Dad\",\r\n    computed: {\r\n        ...mapState([\"Scorers\", \"scheduleId\", \"racersId\", \"racersMap\", \"user\", \"scheduleName\"]),\r\n    },\r\n    data: () => ({\r\n        schedule: [],\r\n        currentRaceId: 0,\r\n        currentRaceRacers: [],\r\n        nextRaceRacers: [],\r\n        rendered: false,\r\n    }),\r\n    async created() {\r\n        window.scrollTo(0, 0);\r\n        if(this.scheduleName!==\"\"){\r\n          this.loadPageData();\r\n        }\r\n    },\r\n    methods: {\r\n        async loadPageData() {\r\n            this.rendered = false;\r\n            await this.$store.dispatch(\"getFullSchedule\", { userId: this.user, scheduleId: this.scheduleName });\r\n            await this.$store.dispatch(\"getAllRacers\", { userId: this.user, scheduleName: this.scheduleName });\r\n            this.currentRaceId = 0;\r\n            this.currentRaceRacers = this.Scorers.schedule[this.currentRaceId].racerIds;\r\n            this.nextRaceRacers = this.Scorers.schedule[this.currentRaceId + 1].racerIds;\r\n            console.log(this.Scorers.schedule);\r\n            this.rendered = true;\r\n        },\r\n        toHome() {\r\n            router.push({\r\n                path: \"/\",\r\n            });\r\n        },\r\n        next() {\r\n            if (this.currentRaceId >= this.Scorers.schedule.length - 1)\r\n                return;\r\n            this.currentRaceId++;\r\n            this.currentRaceRacers = this.Scorers.schedule[this.currentRaceId].racerIds;\r\n            if (this.currentRaceId >= this.Scorers.schedule.length - 1) {\r\n                this.nextRaceRacers = [];\r\n            }\r\n            else {\r\n                this.nextRaceRacers = this.Scorers.schedule[this.currentRaceId + 1].racerIds;\r\n            }\r\n        },\r\n        previous() {\r\n            if (this.currentRaceId <= 0)\r\n                return;\r\n            this.currentRaceId--;\r\n            this.currentRaceRacers = this.Scorers.schedule[this.currentRaceId].racerIds;\r\n            this.nextRaceRacers = this.Scorers.schedule[this.currentRaceId + 1].racerIds;\r\n        },\r\n    },\r\n    components: { ChooseName }\r\n};\r\n</script>\r\n\r\n<style>\r\n  .my-card{\r\n    padding-top:25px;\r\n    padding-bottom:25px;\r\n    font-family:\"Le Mans Classic\";\r\n    font-weight: bold;\r\n    font-size: 60px;\r\n  }\r\n  .label{\r\n    font-weight: bold;\r\n    font-size: 25px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dad.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dad.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dad.vue?vue&type=template&id=410e1e81&\"\nimport script from \"./Dad.vue?vue&type=script&lang=js&\"\nexport * from \"./Dad.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dad.vue?vue&type=style&index=0&id=410e1e81&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('br'),_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":['Update Existing Schedule','Create New']},on:{\"change\":_vm.clearScreenData},model:{value:(_vm.scheduleType),callback:function ($$v) {_vm.scheduleType=$$v},expression:\"scheduleType\"}})],1),(_vm.scheduleType==='Update Existing Schedule')?_c('v-col',[_c('choose-name',{on:{\"change_name_event\":_vm.nameChange}})],1):_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"New Schedule Name\"},model:{value:(_vm.newName),callback:function ($$v) {_vm.newName=$$v},expression:\"newName\"}})],1)],1),_c('v-form',{model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-card',{staticClass:\"my-card\",attrs:{\"elevation\":\"5\"}},[_c('v-card',{staticClass:\"my-row\"},[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"rules\":_vm.numRacesRules,\"label\":\"Number of Races\"},model:{value:(_vm.numRaces),callback:function ($$v) {_vm.numRaces=$$v},expression:\"numRaces\"}})],1)],1)],1)],1),_c('v-card',{staticClass:\"my-card\",attrs:{\"elevation\":\"5\"}},[_c('v-row',[_c('v-col',[_c('v-btn',{on:{\"click\":function($event){return _vm.sortRacersById()}}},[_vm._v(\"Sort By Id\")])],1),_c('v-col',[_c('v-btn',{on:{\"click\":function($event){return _vm.sortRacersByName()}}},[_vm._v(\"Sort By Name\")])],1)],1),_vm._l((_vm.racers),function(racer,i){return _c('div',{key:i},[_c('v-card',{staticClass:\"my-row\",attrs:{\"elevation\":\"2\"}},[_c('v-row',[_c('v-col',{attrs:{\"sm\":\"2\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.racerIdRules,\"label\":\"Number\"},model:{value:(racer.id),callback:function ($$v) {_vm.$set(racer, \"id\", $$v)},expression:\"racer.id\"}})],1),_c('v-col',{attrs:{\"sm\":\"8\"}},[_c('v-text-field',{attrs:{\"label\":\"Name\",\"rules\":_vm.racerNameRules},model:{value:(racer.name),callback:function ($$v) {_vm.$set(racer, \"name\", $$v)},expression:\"racer.name\"}})],1),_c('v-col',{attrs:{\"sm\":\"2\"}},[_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"error\",\"fab\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.removeRacer(i)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\" mdi-minus \")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Remove Racer\")])])],1)],1)],1)],1)}),_c('v-row',[_c('v-col',[_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"success\",\"fab\":\"\",\"large\":\"\"},on:{\"click\":function($event){return _vm.addRacer()}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\" mdi-plus \")])],1)]}}])},[_c('span',[_vm._v(\"Add Racer\")])])],1)],1),_c('v-row',[_c('v-col',[_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.toHome()}}},[_vm._v(\" Cancel \")])],1),_c('v-col',[_c('v-btn',{attrs:{\"color\":\"success\",\"type\":\"submit\",\"disabled\":!_vm.valid},on:{\"click\":function($event){return _vm.saveRacers()}}},[_vm._v(\" Save Racers \")])],1),_c('v-col',[_c('v-btn',{attrs:{\"disabled\":!_vm.valid},on:{\"click\":function($event){return _vm.createSchedule()}}},[_vm._v(\" Create Schedule \")])],1)],1)],2)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// translated from random_utilities.py\r\nfunction getMinDiagonal(matrix,skipIndex){\r\n    let minIndex = -1;\r\n    for (let i = 0; i < matrix.length; i++){\r\n        if(!skipIndex.includes(i)){\r\n            if(minIndex == -1 || matrix[i][i] < matrix[minIndex][minIndex]){\r\n                minIndex=i\r\n            }\r\n        }\r\n    }\r\n    return minIndex;\r\n}\r\n\r\nfunction getMaxDiagonal(matrix,skipIndex){\r\n    let maxIndex = -1;\r\n    for (let i = 0; i < matrix.length; i++){\r\n        if(!skipIndex.includes(i)){\r\n            if(maxIndex == -1 || matrix[i][i] > matrix[maxIndex][maxIndex]){\r\n                maxIndex=i;\r\n            }\r\n        }\r\n    }\r\n    return maxIndex;\r\n}\r\n\r\nfunction getMinRow(matrix, alreadyRacing){\r\n    let minIndex = -1;\r\n    let minValue=Number.MAX_SAFE_INTEGER;\r\n    for(let i=0; i < matrix.length; i++){\r\n        if(alreadyRacing.includes(i)) continue;\r\n\r\n        let tempColTotal = 0;\r\n        for(let j=0; j < alreadyRacing.length;j++){\r\n            tempColTotal += matrix[alreadyRacing[j]][i];\r\n        }\r\n\r\n        if((minIndex != -1 && tempColTotal == minValue && matrix[i][i] < matrix[minIndex][minIndex]) || tempColTotal < minValue){\r\n            minIndex = i;\r\n            minValue = tempColTotal;\r\n        }\r\n    }\r\n    return minIndex;\r\n}\r\n\r\nfunction addRacersToMatrix(r1, r2, r3, r4, matrix){\r\n    if(r4 != -1){\r\n        matrix[r1][r1] = matrix[r1][r1]+1;\r\n        matrix[r2][r2] = matrix[r2][r2]+1;\r\n        matrix[r3][r3] = matrix[r3][r3]+1;\r\n        matrix[r4][r4] = matrix[r4][r4]+1;\r\n        matrix[r1][r2] = matrix[r1][r2]+1;\r\n        matrix[r2][r1] = matrix[r2][r1]+1;\r\n        matrix[r1][r3] = matrix[r1][r3]+1;\r\n        matrix[r3][r1] = matrix[r3][r1]+1;\r\n        matrix[r1][r4] = matrix[r1][r4]+1;\r\n        matrix[r4][r1] = matrix[r4][r1]+1;\r\n        matrix[r2][r3] = matrix[r2][r3]+1;\r\n        matrix[r3][r2] = matrix[r3][r2]+1;\r\n        matrix[r2][r4] = matrix[r2][r4]+1;\r\n        matrix[r4][r2] = matrix[r4][r2]+1;\r\n        matrix[r3][r4] = matrix[r3][r4]+1;\r\n        matrix[r4][r3] = matrix[r4][r3]+1;\r\n    }\r\n    else{\r\n        matrix[r1][r1] = matrix[r1][r1]+1;\r\n        matrix[r2][r2] = matrix[r2][r2]+1;\r\n        matrix[r3][r3] = matrix[r3][r3]+1;\r\n        matrix[r1][r2] = matrix[r1][r2]+1;\r\n        matrix[r2][r1] = matrix[r2][r1]+1;\r\n        matrix[r1][r3] = matrix[r1][r3]+1;\r\n        matrix[r3][r1] = matrix[r3][r1]+1;\r\n        matrix[r2][r3] = matrix[r2][r3]+1;\r\n        matrix[r3][r2] = matrix[r3][r2]+1;\r\n    }\r\n}\r\n\r\nfunction removeRacersFromMatrix(r1,r2,r3,r4,matrix){\r\n    matrix[r1][r1] = matrix[r1][r1]-1;\r\n    matrix[r2][r2] = matrix[r2][r2]-1;\r\n    matrix[r3][r3] = matrix[r3][r3]-1;\r\n    matrix[r4][r4] = matrix[r4][r4]-1;\r\n    matrix[r1][r2] = matrix[r1][r2]-1;\r\n    matrix[r2][r1] = matrix[r2][r1]-1;\r\n    matrix[r1][r3] = matrix[r1][r3]-1;\r\n    matrix[r3][r1] = matrix[r3][r1]-1;\r\n    matrix[r1][r4] = matrix[r1][r4]-1;\r\n    matrix[r4][r1] = matrix[r4][r1]-1;\r\n    matrix[r2][r3] = matrix[r2][r3]-1;\r\n    matrix[r3][r2] = matrix[r3][r2]-1;\r\n    matrix[r2][r4] = matrix[r2][r4]-1;\r\n    matrix[r4][r2] = matrix[r4][r2]-1;\r\n    matrix[r3][r4] = matrix[r3][r4]-1;\r\n    matrix[r4][r3] = matrix[r4][r3]-1; \r\n}\r\n\r\nfunction getAllMaxOnDiagonal(matrix){\r\n    let maxIndex = getMaxDiagonal(matrix,[]);\r\n    let maxIndexes = [];\r\n\r\n    for(let i = 0; i < matrix.length; i++){\r\n        if(matrix[i][i] == matrix[maxIndex][maxIndex]){\r\n            maxIndexes.push(i);\r\n        }\r\n    }\r\n    return maxIndexes;\r\n}\r\n\r\nfunction stealFromPreviousRace(matrix, schedule, lastRace){\r\n    if(lastRace.length == 1){\r\n        removeRacersFromMatrix(schedule[schedule.length-2][0],schedule[schedule.length-2][1],schedule[schedule.length-2][2],schedule[schedule.length-2][3],matrix);\r\n        removeRacersFromMatrix(schedule[schedule.length-1][0],schedule[schedule.length-1][1],schedule[schedule.length-1][2],schedule[schedule.length-1][3],matrix);\r\n    \r\n        let tempStolen = schedule[schedule.length-2].pop();\r\n        while(lastRace.includes(tempStolen)){\r\n            schedule[schedule.length-2].unshift(tempStolen);\r\n            tempStolen = schedule[schedule.length-2].pop();\r\n        }\r\n        lastRace.push(tempStolen);\r\n        tempStolen = schedule[schedule.length-1].pop();\r\n\r\n        while(lastRace.includes(tempStolen)){\r\n            schedule[schedule.length-1].unshift(tempStolen);\r\n            tempStolen = schedule[schedule.length-1].pop();\r\n        }\r\n\r\n        lastRace.push(tempStolen);\r\n        schedule.push(lastRace);\r\n\r\n        addRacersToMatrix(schedule[schedule.length-3][0],schedule[schedule.length-3][1],schedule[schedule.length-3][2],-1,matrix);\r\n        addRacersToMatrix(schedule[schedule.length-2][0],schedule[schedule.length-2][1],schedule[schedule.length-2][2],-1,matrix);\r\n        addRacersToMatrix(schedule[schedule.length-1][0],schedule[schedule.length-1][1],schedule[schedule.length-1][2],-1,matrix);\r\n    }\r\n    else if (lastRace.length == 2) {\r\n        removeRacersFromMatrix(schedule[schedule.length-1][0],schedule[schedule.length-1][1],schedule[schedule.length-1][2],schedule[schedule.length-1][3],matrix);\r\n        let tempStolen = schedule[schedule.length-1].pop();\r\n        while(lastRace.includes(tempStolen)){\r\n            schedule[schedule.length-1].unshift(tempStolen);\r\n            tempStolen = schedule[schedule.length-1].pop();\r\n        }\r\n\r\n        lastRace.push(tempStolen);\r\n        schedule.push(lastRace);\r\n\r\n        addRacersToMatrix(schedule[schedule.length-2][0],schedule[schedule.length-2][1],schedule[schedule.length-2][2],-1,matrix);\r\n        addRacersToMatrix(schedule[schedule.length-1][0],schedule[schedule.length-1][1],schedule[schedule.length-1][2],-1,matrix);\r\n    }\r\n}\r\n\r\nfunction getStatsFromSchedule(schedule, numRacers){\r\n    let matrix = [];\r\n    for(let i = 0; i < numRacers; i++){\r\n        let temp = [];\r\n        for(let j = 0; j < numRacers; j++){\r\n            temp.push(0);\r\n        }\r\n        matrix.push(temp);\r\n    }\r\n\r\n    let twoRacesInARow=0;\r\n    for(let i = 0; i < schedule.length; i++){\r\n        let race = schedule[i];\r\n        if(race.length == 4){\r\n            addRacersToMatrix(race[0],race[1],race[2],race[3],matrix);\r\n        }\r\n        else{\r\n            addRacersToMatrix(race[0],race[1],race[2],-1,matrix);\r\n        }\r\n\r\n        if(i>0 && containsSameRacer(race,schedule[i-1])){\r\n            twoRacesInARow++;\r\n        }\r\n    }\r\n    let lane = generateLaneMatrix(schedule,numRacers);\r\n    let minLane = Number.MAX_SAFE_INTEGER;\r\n    let maxLane = -1;\r\n    for(let i = 0; i < lane.length; i++){\r\n        for(let j = 0; j < lane[i].length; j++){\r\n            if (lane[i][j] < minLane){\r\n                minLane = lane[i][j];\r\n            }\r\n            if(lane[i][j] > maxLane){\r\n                maxLane = lane[i][j];\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        matrix: getStatsFromMatrix(matrix),\r\n        leastAppearancesInLane: minLane,\r\n        mostAppearancesInLane: maxLane,\r\n        numOfBack2BackAppearances: twoRacesInARow\r\n    }\r\n}\r\n\r\nfunction getStatsFromMatrix(matrix){\r\n    let numRacePerCar = matrix[0][0];\r\n    let maxNumMatchup = -1;\r\n    let minNumMatchup = Number.MAX_SAFE_INTEGER;\r\n\r\n    let matrixDimensions = matrix.length;\r\n    for(let i = 0; i < matrixDimensions; i++){\r\n        for(let j = i+1; j < matrixDimensions; j++){\r\n            if(matrix[i][j] > maxNumMatchup){\r\n                maxNumMatchup = matrix[i][j];\r\n            }\r\n            if(matrix[i][j] < minNumMatchup){\r\n                minNumMatchup = matrix[i][j];\r\n            }\r\n        }\r\n    }\r\n\r\n    let totalNumMatchupList = [];\r\n    for(let i = 0; i <= maxNumMatchup; i++){\r\n        totalNumMatchupList.push(0);\r\n    }\r\n\r\n    for(let i = 0; i < matrixDimensions; i++){\r\n        for(let j = i+1; j < matrixDimensions; j++){\r\n            totalNumMatchupList[matrix[i][j]]++;\r\n        }\r\n    }\r\n\r\n    return {\r\n        numberOfRacesPerCar: numRacePerCar,\r\n        mostMatchUps:maxNumMatchup,\r\n        leastMatchUps:minNumMatchup,\r\n        matchupList:totalNumMatchupList\r\n    }\r\n}\r\n\r\nfunction generateLaneMatrix(schedule, numRacers){\r\n    let laneMatrix = [];\r\n    for(let i = 0; i < numRacers; i++){\r\n        let racer = [];\r\n        for(let j = 0; j < schedule[0].length; j++){\r\n            racer.push(0);\r\n        }\r\n        laneMatrix.push(racer);\r\n    }\r\n\r\n    for(let i = 0; i < schedule.length; i++){\r\n        for(let j = 0; j < schedule[i].length; j++){\r\n            laneMatrix[schedule[i][j]][j]++;\r\n        }\r\n    }\r\n\r\n    return laneMatrix;\r\n}\r\n\r\nfunction possibleSwap(laneMatrix, raceArr, currentRacer, target){\r\n    let currentRacerIndex = raceArr.indexOf(currentRacer);\r\n    let bestHeuristic = 0;\r\n    let lane1 = -1;\r\n    let lane2 = -1;\r\n    for(let i = 0; i < raceArr.length; i++){\r\n        if(raceArr[i] === currentRacer){\r\n            continue;\r\n        }\r\n        let tempHeuristic = calculateHeuristic(laneMatrix, currentRacer, currentRacerIndex, raceArr[i], i, target);\r\n        if(tempHeuristic > bestHeuristic){\r\n            bestHeuristic = tempHeuristic;\r\n            lane1 = i;\r\n            lane2 = currentRacerIndex;\r\n        }\r\n    }\r\n    return {\r\n        bestHeuristic: bestHeuristic,\r\n        lane1: lane1,\r\n        lane2: lane2\r\n    }\r\n}\r\n\r\nfunction calculateHeuristic(laneMatrix, car1Index, car1Lane, car2Index, car2Lane, target){\r\n    let currentState = Math.pow((laneMatrix[car1Index][car1Lane] - target), 2) + Math.pow((laneMatrix[car1Index][car2Lane] - target), 2) + Math.pow((laneMatrix[car2Index][car2Lane] - target), 2) + Math.pow((laneMatrix[car2Index][car1Lane] - target), 2)\r\n    let newState = Math.pow((laneMatrix[car1Index][car1Lane] - target - 1), 2) + Math.pow((laneMatrix[car1Index][car2Lane] - target + 1), 2) + Math.pow((laneMatrix[car2Index][car2Lane] - target - 1), 2) + Math.pow((laneMatrix[car2Index][car1Lane] - target + 1), 2)\r\n    return currentState - newState;\r\n}\r\n\r\nfunction racerSwap(schedule, laneMatrix, raceIndex, car1Index, car2Index){\r\n    let car1 = schedule[raceIndex][car1Index];\r\n    let car2 = schedule[raceIndex][car2Index];\r\n\r\n    laneMatrix[car1][car1Index]--;\r\n    laneMatrix[car1][car2Index]++;\r\n    laneMatrix[car2][car1Index]++;\r\n    laneMatrix[car2][car2Index]--;\r\n\r\n    schedule[raceIndex][car1Index] = car2;\r\n    schedule[raceIndex][car2Index] = car1;\r\n}\r\n\r\nfunction containsSameRacer(race1, race2){\r\n    if(race2==undefined){\r\n        console.log(\"ME\");\r\n    }\r\n    for(let i = 0; i < race1.length; i++){\r\n        if(race2.includes(race1[i])){\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n// translated from create_schedule.py\r\nfunction createInitialSchedule(numberOfRacers, minimumNumberRaces){\r\n    let schedule = [];\r\n    let racerMatrix = [];\r\n\r\n    for(let i = 0; i < numberOfRacers; i++){\r\n        let tempArr = [];\r\n        for(let j = 0; j < numberOfRacers; j++){\r\n            tempArr.push(0);\r\n        }\r\n        racerMatrix.push(tempArr);\r\n    }\r\n\r\n    while(schedule.length < minimumNumberRaces){\r\n        let r1 = getMinDiagonal(racerMatrix,[]);\r\n        let r2 = getMinRow(racerMatrix, [r1]);\r\n        let r3 = getMinRow(racerMatrix, [r1,r2]);\r\n        let r4 = getMinRow(racerMatrix, [r1,r2,r3]);\r\n\r\n        addRacersToMatrix(r1,r2,r3,r4,racerMatrix);\r\n        schedule.push([r1,r2,r3,r4]);\r\n    }\r\n    let t = true;\r\n    while(t){\r\n        let racersWithFullSchedule = getAllMaxOnDiagonal(racerMatrix);\r\n        if(racersWithFullSchedule.length == racerMatrix.length){\r\n            break;\r\n        }\r\n        let r1 = getMinDiagonal(racerMatrix, racersWithFullSchedule);\r\n        racersWithFullSchedule.push(r1);\r\n        if(racersWithFullSchedule.length == racerMatrix.length){\r\n            stealFromPreviousRace(racerMatrix,schedule,[r1]);\r\n            break;\r\n        }   \r\n        let r2 = getMinRow(racerMatrix, racersWithFullSchedule);\r\n        racersWithFullSchedule.push(r2);\r\n        if(racersWithFullSchedule.length == racerMatrix.length){\r\n            stealFromPreviousRace(racerMatrix,schedule, [r1,r2]);\r\n            break;\r\n        }\r\n        let r3 = getMinRow(racerMatrix, racersWithFullSchedule);\r\n        racersWithFullSchedule.push(r3);\r\n        if(racersWithFullSchedule.length == racerMatrix.length){\r\n            addRacersToMatrix(r1,r2,r3,-1,racerMatrix);\r\n            schedule.push([r1,r2,r3]);\r\n            break;\r\n        }\r\n        let r4 = getMinRow(racerMatrix, racersWithFullSchedule);\r\n        racersWithFullSchedule.push(r4);\r\n        if(racersWithFullSchedule.length == racerMatrix.length){\r\n            schedule.push([r1,r2,r3,r4]);\r\n            addRacersToMatrix(r1,r2,r3,r4,racerMatrix);\r\n            break;\r\n        }\r\n\r\n        schedule.push([r1,r2,r3,r4]);\r\n        addRacersToMatrix(r1,r2,r3,r4,racerMatrix);\r\n    }\r\n\r\n    return {\r\n        schedule: schedule,\r\n        racerMatrix: racerMatrix,\r\n    }\r\n}\r\n\r\nfunction equalizeRacingLanes(schedule,numRacers,numRacesPerRacer){\r\n    let laneMatrix = generateLaneMatrix(schedule, numRacers);\r\n    let targetAppearancesPerLane = Math.floor(numRacesPerRacer / schedule[0].length);\r\n    let changeMade = true;\r\n    while(changeMade){\r\n        changeMade = false;\r\n\r\n        for(let racerIndex = 0; racerIndex < laneMatrix.length; racerIndex++){\r\n            let maxHeuristic = -1;\r\n            let scheduleIndex = -1;\r\n            let laneIndex1 = -1;\r\n            let laneIndex2 = -1;\r\n            for(let raceIndex = 0; raceIndex < schedule.length; raceIndex++){\r\n                let race = schedule[raceIndex];\r\n                if(race.includes(racerIndex)){\r\n                    let swapResult = possibleSwap(laneMatrix, race, racerIndex, targetAppearancesPerLane);\r\n                    if(swapResult.bestHeuristic> maxHeuristic){\r\n                        maxHeuristic = swapResult.bestHeuristic;\r\n                        scheduleIndex = raceIndex;\r\n                        laneIndex1 = swapResult.lane1;\r\n                        laneIndex2 = swapResult.lane2;\r\n                    }\r\n                }\r\n            }\r\n            if(maxHeuristic > 0){\r\n                changeMade = true;\r\n                racerSwap(schedule, laneMatrix, scheduleIndex, laneIndex1,laneIndex2);\r\n            }\r\n        }\r\n    }\r\n    return laneMatrix;\r\n}\r\n\r\nfunction shuffleRaces(schedule){\r\n    let indexOfFailures = [];\r\n    for(let i = 0; i < schedule.length; i++){\r\n        if(i ==0){\r\n            continue;\r\n        }\r\n        if(containsSameRacer(schedule[i], schedule[i-1])){\r\n            indexOfFailures.push(i);\r\n        }\r\n    }\r\n\r\n    // No shuffling required\r\n    if(indexOfFailures.length == 0){\r\n        return schedule;\r\n    }\r\n\r\n    let schedulePieces = [];\r\n    schedulePieces.push(schedule.slice(0, indexOfFailures[0]));\r\n\r\n    for(let i = 0; i < indexOfFailures.length-1; i++){\r\n        schedulePieces.push([schedule[indexOfFailures[i]]]);\r\n        if(indexOfFailures[i+1] - indexOfFailures[i] > 1){\r\n            schedulePieces.push(schedule.slice(indexOfFailures[i]+1, indexOfFailures[i+1]));\r\n        }\r\n    }\r\n\r\n    schedulePieces.push([schedule[indexOfFailures[indexOfFailures.length-1]]]);\r\n    let temp1 = schedule.slice(indexOfFailures[indexOfFailures.length-1]+1);\r\n    if(temp1.length > 0){\r\n        schedulePieces.push(temp1);\r\n    }\r\n    \r\n    let changeMade = true;\r\n    while(changeMade){\r\n        changeMade = false;\r\n        for(let i = 0; i < schedulePieces.length; i++){\r\n            let piece1 = schedulePieces[i];\r\n            if(changeMade){\r\n                break;\r\n            }\r\n            for(let j = 0; j < schedulePieces.length; j++){\r\n                if(changeMade){\r\n                    break;\r\n                }\r\n                let piece2 = schedulePieces[j];\r\n                if(i==j){\r\n                    continue;\r\n                }\r\n                // top of piece1 can be attached to bottom of piece2\r\n                if(!containsSameRacer(piece1[0], piece2[piece2.length-1])){\r\n                    let temp = piece2.concat(piece1);\r\n                    schedulePieces.splice(schedulePieces.indexOf(piece1),1);\r\n                    schedulePieces.splice(schedulePieces.indexOf(piece2),1);\r\n                    schedulePieces.push(temp);\r\n                    changeMade = true;\r\n                    break;\r\n                }\r\n\r\n                // bottom of piece1 can be attached to top of piece 2\r\n                if(!containsSameRacer(piece1[piece1.length-1], piece2[0])){\r\n                    let temp = piece1.concat(piece2);\r\n                    schedulePieces.splice(schedulePieces.indexOf(piece1),1);\r\n                    schedulePieces.splice(schedulePieces.indexOf(piece2),1);\r\n                    schedulePieces.push(temp);\r\n                    changeMade = true;\r\n                    break;\r\n                }\r\n\r\n                // top of piece1 can be attached to top of piece2\r\n                if(!containsSameRacer(piece1[0], piece2[0])){\r\n                    piece2.reverse();\r\n                    let temp = piece1.concat(piece2);\r\n                    schedulePieces.splice(schedulePieces.indexOf(piece1),1);\r\n                    schedulePieces.splice(schedulePieces.indexOf(piece2),1);\r\n                    schedulePieces.push(temp);\r\n                    changeMade = true;\r\n                    break;\r\n                }\r\n                // top of piece1 can be attached to top of piece2\r\n                if(!containsSameRacer(piece1[piece1.length-1], piece2[piece2.length-1])){\r\n                    piece2.reverse();\r\n                    let temp = piece2.concat(piece1);\r\n                    schedulePieces.splice(schedulePieces.indexOf(piece1),1);\r\n                    schedulePieces.splice(schedulePieces.indexOf(piece2),1);\r\n                    schedulePieces.push(temp);\r\n                    changeMade = true;\r\n                    break;\r\n                }\r\n\r\n                if(piece1.length > 1){\r\n                    for(let k = 0; k < piece1.length-1; k++){\r\n                        if(changeMade){\r\n                            break;\r\n                        }\r\n                        if(!containsSameRacer(piece1[k], piece2[0]) && !containsSameRacer(piece1[k+1], piece2[piece2.length-1])){\r\n                            let topHalfPiece1 = piece1.slice(0,k);\r\n                            let bottomHalfPiece1 = piece1.slice(k);\r\n                            let temp = topHalfPiece1.concat(piece2).concat(bottomHalfPiece1);\r\n                            schedulePieces.splice(schedulePieces.indexOf(piece1),1);\r\n                            schedulePieces.splice(schedulePieces.indexOf(piece2),1);\r\n                            schedulePieces.push(temp);\r\n                            changeMade = true;\r\n                            break;\r\n                        }\r\n                        if(!containsSameRacer(piece1[k], piece2[piece2.length-1]) && !containsSameRacer(piece1[k+1], piece2[0])){\r\n                            piece2.reverse();\r\n                            let topHalfPiece1 = piece1.slice(0,k);\r\n                            let bottomHalfPiece1 = piece1.slice(k);\r\n                            let temp = topHalfPiece1.concat(piece2).concat(bottomHalfPiece1);\r\n                            schedulePieces.splice(schedulePieces.indexOf(piece1),1);\r\n                            schedulePieces.splice(schedulePieces.indexOf(piece2),1);\r\n                            schedulePieces.push(temp);\r\n                            changeMade = true;\r\n                            break;\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    let newSchedule = [];\r\n    for(let i = 0; i < schedulePieces.length; i++){\r\n        newSchedule = newSchedule.concat(schedulePieces[i]);\r\n    }\r\n\r\n    return newSchedule;\r\n}\r\n\r\nfunction useRealNumbers(schedule, racerNumbers){\r\n    for(let i =0; i < schedule.length; i++){\r\n        for(let j = 0; j < schedule[i].length; j++){\r\n            schedule[i][j] = racerNumbers[schedule[i][j]];\r\n        }\r\n    }\r\n}\r\n\r\nexport function generateSchedule(numRacers, minRaces, racerNumbers){\r\n    let initialScheduleObject = createInitialSchedule(numRacers, minRaces);\r\n    equalizeRacingLanes(initialScheduleObject.schedule,numRacers,initialScheduleObject.racerMatrix[0][0]);\r\n    let schedule = shuffleRaces(initialScheduleObject.schedule);\r\n    let stats = getStatsFromSchedule(schedule, numRacers);\r\n    useRealNumbers(schedule, racerNumbers);\r\n    return {\r\n        schedule: schedule,\r\n        stats: stats\r\n    };\r\n}\r\n\r\n\r\n// testing\r\nexport function testing(arg1, arg2){\r\n    let object = createInitialSchedule(arg1, arg2);\r\n    console.log(\"Stats\", getStatsFromMatrix(object.racerMatrix));\r\n    console.log(\"Racer Matrix\",object.racerMatrix);\r\n    equalizeRacingLanes(object.schedule, object.racerMatrix.length, object.racerMatrix[0][0]);\r\n    console.log(\"Schedule before shuffle races\", object.schedule);\r\n    let counter = 0; \r\n    for(let i = 0; i < object.schedule.length - 1; i++){\r\n        if(containsSameRacer(object.schedule[i], object.schedule[i+1])){\r\n            counter++;\r\n        }\r\n    }\r\n    console.log(\"Count before shuffle\", counter);\r\n\r\n    let newSchedule = shuffleRaces(object.schedule);\r\n    counter = 0;\r\n\r\n    for(let i = 0; i < newSchedule.length - 1; i++){\r\n        if(containsSameRacer(newSchedule[i], newSchedule[i+1])){\r\n            counter++;\r\n        }\r\n    }\r\n    console.log(\"Count After Shuffle\", counter);\r\n\r\n\r\n    let gutCheck = [];\r\n    for(let i = 0; i < object.racerMatrix.length; i++){\r\n        gutCheck.push(0);\r\n    }\r\n    for(let i = 0; i < newSchedule.length; i++){\r\n        for(let j=0; j<newSchedule[i].length; j++){\r\n            gutCheck[newSchedule[i][j]]++;\r\n        }\r\n        let set = new Set(newSchedule[i])\r\n        if((set.size !== newSchedule[i].length)){\r\n            console.log(\"THERE WAS A DUPLICATE\");\r\n        }\r\n    }\r\n    let sos;\r\n    for(let i=0; i < gutCheck.length; i++){\r\n        if(gutCheck[i] != gutCheck[0]){\r\n            sos = \"SOS THIS IS BAD\";\r\n            console.log(sos);\r\n        }\r\n    }\r\n\r\n    let ogGutCheck = [];\r\n    for(let i = 0; i < object.racerMatrix.length; i++){\r\n        ogGutCheck.push(0);\r\n    }\r\n    for(let i = 0; i < object.schedule.length; i++){\r\n        for(let j=0; j<object.schedule[i].length; j++){\r\n            ogGutCheck[object.schedule[i][j]]++;\r\n        }\r\n    }\r\n    let ogsos;\r\n    for(let i=0; i < ogGutCheck.length; i++){\r\n        if(ogGutCheck[i] != ogGutCheck[0]){\r\n            ogsos = \"SOS THIS IS BAD\";\r\n            console.log(ogsos);\r\n        }\r\n    }\r\n    console.log(getStatsFromSchedule(newSchedule,arg1));\r\n}\r\n//testing(25,50);\r\n// ALL COMBINATIONS BETWEEN 4-100 racers and between 5 and 250 races \r\n// at the bare minimum all race the same number of times as everyone else:)\r\n// for(let i = 4; i < 100; i++){\r\n//     for(let j = 5; j < 250; j++){\r\n//         testing(i,j);\r\n//     }\r\n// }","import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore, collection, getDocs, setDoc, writeBatch, doc, runTransaction } from \"firebase/firestore\";\r\nimport { getAuth, signInWithEmailAndPassword, sendPasswordResetEmail, createUserWithEmailAndPassword, signOut, setPersistence, browserSessionPersistence } from \"firebase/auth\";\r\nconst config= {\r\n    apiKey: \"AIzaSyC7nygfHugm6ynTHRcNM3XSxmtXy85wrg0\",\r\n    authDomain: \"pine-care-derby.firebaseapp.com\",\r\n    projectId: \"pine-care-derby\",\r\n    storageBucket: \"pine-care-derby.appspot.com\",\r\n    messagingSenderId: \"55090232340\",\r\n    appId: \"1:55090232340:web:1f1a866e83463647a0bb01\",\r\n    measurementId: \"G-BB7TBNHDCJ\"\r\n  };\r\n\r\nconst firebaseApp = initializeApp(config);\r\nexport const db = getFirestore(firebaseApp)\r\n\r\n// CRUD Functions\r\n\r\n\r\n/* ---RACER--- */\r\n// Update/Create Racers \r\nexport async function updateAllRacers(racersId, newList, removedRacers){\r\n    // create batch to update racer if already in collection\r\n    // also add racer if not already in db\r\n    const batch = writeBatch(db);\r\n    for(let i = 0; i < newList.length; i++){\r\n        if(newList[i].dbId === undefined){\r\n            // gets autogenerated ref\r\n            let myNewRef = doc(collection(db, \"MasterRacers\", racersId, \"Racers\"));\r\n            batch.set(myNewRef, { name: newList[i].name, id: newList[i].id, score: newList[i].score });\r\n        }\r\n        else{\r\n            const myRef = doc(db, \"MasterRacers\", racersId, \"Racers\", newList[i].dbId);\r\n            batch.update(myRef, { name: newList[i].name, id: newList[i].id, score: newList[i].score });\r\n        }\r\n    }\r\n    for(let i = 0; i < removedRacers.length; i++){\r\n        if(removedRacers[i].dbId === undefined) continue;\r\n\r\n        let myRemRef = doc(db, \"MasterRacers\", racersId, \"Racers\", removedRacers[i].dbId);\r\n        batch.delete(myRemRef);\r\n    }\r\n    \r\n    await batch.commit();\r\n}\r\n\r\nexport async function getAllRacers(racersId){\r\n    const query = await getDocs(collection(db, \"MasterRacers\", racersId, \"Racers\"));\r\n    let allRacers = [];\r\n    let allRacersMap = new Map();\r\n    query.forEach((doc)=> {\r\n        let racer = doc.data();\r\n        allRacersMap.set(doc.id, racer);\r\n        racer.dbId = doc.id;\r\n        allRacers.push(racer);\r\n    });\r\n\r\n    return {\r\n        array: allRacers,\r\n        map: allRacersMap\r\n    };\r\n}\r\n\r\n/* ---Schedule--- */\r\n// Create \r\n//export async function replaceSchedule(scheduleId, schedule, racerList){\r\nexport async function replaceSchedule(userId, scheduleName, schedule){\r\n    let originalSchedule = await getScheduleRaces(userId, scheduleName);\r\n    const batch = writeBatch(db);\r\n    // delete old schedule\r\n    console.log(\"Inside Replace Schedule\");\r\n    originalSchedule.forEach((race) =>{\r\n        let myRef = doc(db, \"Users\", userId, \"MasterSchedules\", scheduleName, \"Schedule\", race.dbId);\r\n        batch.delete(myRef);\r\n    });\r\n\r\n    // save new schedule\r\n    // Need to use counter for ID so Schedule saves in the correct order\r\n    let counter = 0;\r\n    schedule.forEach((race) =>{\r\n        console.log(\"Races\", race)\r\n        counter++;\r\n        // second parameter in doc is the id that we are going to use\r\n        // leaving it blank will create an auto generated id\r\n        // since we want to keep the races in the correct order, we are going to use the counter\r\n        let myNewRef = doc(collection(db, \"Users\", userId, \"MasterSchedules\", scheduleName, \"Schedule\"),padId(counter));\r\n        let racerScores = [];\r\n        race.forEach(() =>\r\n        {\r\n            racerScores.push(0);\r\n        });    \r\n        console.log(race);\r\n        batch.set(myNewRef, { racerIds: race, racerScores: racerScores});\r\n    });\r\n    \r\n    await batch.commit();\r\n}\r\nfunction padId(intId){\r\n    let stringId = \"\"+intId;\r\n    while(stringId.length<5){\r\n        stringId=\"0\"+stringId\r\n    }\r\n    return stringId;\r\n}\r\n\r\nexport async function getScheduleRaces(userId, scheduleName){\r\n    let schedule = [];\r\n    try{\r\n        const query = await getDocs(collection(db, \"Users\", userId, \"MasterSchedules\", scheduleName, \"Schedule\"));\r\n    \r\n        query.forEach((doc)=> {\r\n            let race = doc.data();\r\n            race.dbId = doc.id;\r\n            schedule.push(race);\r\n        });\r\n    } catch(e){\r\n        console.log(\"No schedule\");\r\n    }\r\n    return schedule;\r\n}\r\n\r\nexport async function updateScore(userId, scheduleName, raceIndex, newRaceInfo){\r\n    // get old race info\r\n    let oldRaceInfo = (await getScheduleRaces(userId, scheduleName))[raceIndex];\r\n    \r\n    // calculate delta\r\n    let delta = [];\r\n    for(let i = 0; i < newRaceInfo.racerIds.length; i++)\r\n    {\r\n        delta.push(newRaceInfo.racerScores[i]-oldRaceInfo.racerScores[i]);\r\n    }\r\n\r\n    // apply new scores to database (do it in transaction so to avoid race conditions)\r\n    try{\r\n        await runTransaction(db, async (transaction)=>\r\n        {\r\n            let racerRefs = [];\r\n            let newScores = [];\r\n            // update Racer Scores\r\n            for(let i = 0; i < newRaceInfo.racerIds.length; i++){\r\n                let racer = newRaceInfo.racerIds[i];\r\n                let racerRef = doc(db, \"Users\", userId, \"MasterSchedules\", scheduleName, \"Racers\", racer); \r\n                let newScore = await (await transaction.get(racerRef)).data().score+delta[i];\r\n                racerRefs.push(racerRef);\r\n                newScores.push(newScore);\r\n            }\r\n            for(let i = 0; i < newRaceInfo.racerIds.length; i++){\r\n                transaction.update(racerRefs[i], {score: newScores[i]});\r\n            }\r\n            \r\n            // update Schedule scores\r\n            let scheduleRef = doc(db, \"Users\", userId, \"MasterSchedules\", scheduleName, \"Schedule\", \"\"+padId(raceIndex+1)); \r\n            transaction.update(scheduleRef, {racerScores: newRaceInfo.racerScores});\r\n        });\r\n    }\r\n    catch(e){\r\n        console.log(\"Transaction failed: \", e);\r\n        alert(\"Scores not updated!!!\");\r\n    }\r\n    \r\n}\r\nexport const auth = getAuth();\r\n\r\nexport async function loginWithEmailAndPassword(email, password){\r\n    await setPersistence(auth, browserSessionPersistence);\r\n    return (await signInWithEmailAndPassword(auth, email, password)).user;\r\n}\r\n\r\nexport async function forgotPasswordEmail(email){\r\n    await sendPasswordResetEmail(auth,email);\r\n}\r\n\r\nexport async function createUser(email,password){\r\n    return (await createUserWithEmailAndPassword(email, password)).user\r\n}\r\nexport async function logOut(){\r\n    if(auth.user!==\"\"){\r\n        await signOut(auth);\r\n    }\r\n    \r\n}\r\n\r\nexport async function addScheduleName(userId, newName, namesArr){\r\n    if(!namesArr.includes(newName)){\r\n        namesArr.push(newName);\r\n        await setDoc(doc(db,\"Users\", userId), {Names: namesArr});\r\n    } \r\n}","<template>\r\n  <div>\r\n    <br>\r\n    <v-row>\r\n      <v-col>\r\n        <v-select\r\n        :items=\"['Update Existing Schedule','Create New']\"\r\n        v-model=\"scheduleType\"\r\n        @change=\"clearScreenData\"\r\n        >\r\n      </v-select>\r\n      </v-col>\r\n      <v-col v-if=\"scheduleType==='Update Existing Schedule'\">\r\n        <choose-name @change_name_event=\"nameChange\"/>\r\n      </v-col>\r\n      <v-col v-else>\r\n        <v-text-field\r\n        v-model=\"newName\"\r\n        label=\"New Schedule Name\"\r\n        >\r\n\r\n        </v-text-field>\r\n      </v-col>\r\n    </v-row>\r\n    \r\n    <v-form v-model=\"valid\">\r\n      <v-card \r\n        class=\"my-card\"\r\n        elevation=\"5\"\r\n      >\r\n      <v-card\r\n        class=\"my-row\">\r\n          <v-row>\r\n            <v-col>\r\n              <v-text-field\r\n                v-model=\"numRaces\"\r\n                :rules=\"numRacesRules\"\r\n                label=\"Number of Races\"\r\n              >\r\n              </v-text-field>\r\n            </v-col>\r\n          </v-row>\r\n        </v-card> \r\n      </v-card>\r\n      <v-card\r\n        class=\"my-card\"\r\n        elevation=\"5\"\r\n      >\r\n      <v-row>\r\n        <v-col>\r\n          <v-btn\r\n          v-on:click=\"sortRacersById()\">Sort By Id</v-btn>\r\n        </v-col>\r\n        <v-col>\r\n          <v-btn\r\n          v-on:click=\"sortRacersByName()\">Sort By Name</v-btn>\r\n        </v-col>\r\n      </v-row>\r\n        <div v-for=\"(racer, i) in racers\" :key=\"i\">\r\n          <v-card\r\n            class=\"my-row\"\r\n            elevation=\"2\"\r\n          >\r\n            <v-row>\r\n              <v-col sm=\"2\">\r\n                <v-text-field\r\n                  v-model=\"racer.id\"\r\n                  :rules=\"racerIdRules\"\r\n                  label=\"Number\"\r\n                >\r\n                </v-text-field>\r\n              </v-col>\r\n              <v-col sm=\"8\">\r\n                <v-text-field\r\n                  v-model=\"racer.name\"\r\n                  label=\"Name\"\r\n                  :rules=\"racerNameRules\"\r\n                >\r\n                </v-text-field>\r\n              </v-col>\r\n              <v-col sm=\"2\">\r\n                <v-tooltip left>\r\n                  <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                      v-bind=\"attrs\"\r\n                      v-on=\"on\"\r\n                      color=\"error\"\r\n                      fab\r\n                      small\r\n                      v-on:click=\"removeRacer(i)\"\r\n                    >\r\n                      <v-icon>\r\n                        mdi-minus\r\n                      </v-icon>\r\n                    </v-btn>\r\n                  </template>\r\n                  <span>Remove Racer</span>\r\n                </v-tooltip> \r\n              </v-col>\r\n            </v-row>\r\n          </v-card>\r\n        </div>\r\n        <v-row>\r\n          <v-col>\r\n            <v-tooltip left>\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                  color=\"success\"\r\n                  fab\r\n                  large\r\n                  v-on:click=\"addRacer()\"\r\n                >\r\n                  <v-icon>\r\n                    mdi-plus\r\n                  </v-icon>\r\n                </v-btn>\r\n              </template>\r\n              <span>Add Racer</span>\r\n            </v-tooltip> \r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col>\r\n            <v-btn\r\n              color=\"error\"\r\n              v-on:click=\"toHome()\"\r\n            >\r\n              Cancel\r\n            </v-btn>\r\n          </v-col>\r\n          <v-col>\r\n            <v-btn\r\n              color=\"success\"\r\n              type=\"submit\"\r\n              :disabled=\"!valid\"\r\n              v-on:click=\"saveRacers()\"\r\n            >\r\n              Save Racers\r\n            </v-btn>\r\n          </v-col>\r\n          <v-col>\r\n            <v-btn\r\n              :disabled=\"!valid\"\r\n              v-on:click=\"createSchedule()\"\r\n            >\r\n              Create Schedule\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card>\r\n    </v-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport {generateSchedule} from \"../scheduleGenAlgo/generateSchedule\"\r\nimport { replaceSchedule, addScheduleName } from \"../firebase\";\r\nimport ChooseName from '../components/ChooseName.vue';\r\nexport default {\r\n  name: \"ScheduleBuilder\",\r\n  components: {\r\n    ChooseName,\r\n  },\r\n  computed:{\r\n    ...mapState([\"racersId\", \"scheduleId\", \"racers\", \"scheduleName\",\"user\",\"allScheduleNames\"])\r\n  },\r\n  data: ()=> ({\r\n    numRacesRules: [\r\n      v => v !=\"\" || \"Number of races is required.\",\r\n      v => Number.isInteger(+v) || \"Value must be a number.\" ,\r\n    ],\r\n    racerNameRules: [\r\n      v => v !=\"\" || \"Racer id is required.\",\r\n    ],\r\n    racerIdRules: [\r\n      v => v !=\"\" || \"Field is required.\",\r\n      v => v.length < 3 || \"Can only have a racer id of length 2 or less.\",\r\n    ],\r\n    valid: false,\r\n    numRaces: \"\",\r\n    removedRacers: [],\r\n    scheduleType: \"Update Existing Schedule\",\r\n    newName: \"\",\r\n  }),\r\n  async created() {\r\n    this.loadScreenData()\r\n  },\r\n  methods: {\r\n    addRacer(){\r\n      this.racers.push({dbId: undefined, id: \"\", name: \"\", score: 0});\r\n    },\r\n    sortRacersByName(){\r\n      this.racers.sort((a,b) =>{\r\n        return a.name.localeCompare(b.name);\r\n      });\r\n    }, \r\n    sortRacersById(){\r\n      this.racers.sort((a,b) =>{\r\n      if(!isNaN(a.id) && !isNaN(b.id)){\r\n        return Number(a.id) - Number(b.id)\r\n      }\r\n        return a.id.localeCompare(b.id);\r\n      });\r\n    },\r\n    removeRacer(index){\r\n      this.removedRacers.push(this.racers[index]);\r\n      this.racers.splice(index,1);\r\n    },\r\n    async saveRacers(){\r\n      let racerIds = this.racers.map(racer => racer.id);\r\n      if((new Set(racerIds)).size != racerIds.length){\r\n        alert(\"DUPLICATE IDS! Cannot submit racers until all racers have a unique racer number.\"); // TODO: VALIDATE BETTER\r\n        return;\r\n      }\r\n      if(this.scheduleType===\"Update Existing Schedule\"){\r\n        await this.$store.dispatch(\"updateAllRacers\",{userId: this.user, scheduleName: this.scheduleName, newRacerList:this.racers, removedRacers: this.removedRacers});\r\n        // this will make sure the new racers have their dbID updated and not left as undefined\r\n        await this.$store.dispatch(\"getAllRacers\",{userId: this.user, scheduleName: this.scheduleName});\r\n      }\r\n      else if(this.newName!==\"\"){\r\n        await this.$store.dispatch(\"updateAllRacers\",{userId: this.user, scheduleName: this.newName, newRacerList:this.racers, removedRacers: this.removedRacers});\r\n        addScheduleName(this.user, this.newName, this.allScheduleNames);\r\n        // this will make sure the new racers have their dbID updated and not left as undefined\r\n        await this.$store.dispatch(\"getAllRacers\",{userId: this.user, scheduleName: this.newName});\r\n      }\r\n    },\r\n    async createSchedule(){\r\n      await this.saveRacers()\r\n      console.log(\"Loaded new racers\", this.racers)\r\n      let racerIds = this.racers.map(racer => racer.id);\r\n      if((new Set(racerIds)).size != racerIds.length){\r\n        alert(\"DUPLICATE IDS! Cannot submit racers until all racers have a unique racer number.\"); // TODO: VALIDATE BETTER\r\n        return;\r\n      }\r\n      if(racerIds.length < 4){\r\n        alert(\"Must have at least 4 racers to generate a schedule.\"); // TODO: VALIDATE BETTER\r\n        return;\r\n      }\r\n      if(this.scheduleName===\"\" && this.newName===\"\"){\r\n        alert(\"Must select a schedule name\");\r\n        return;\r\n      }\r\n      let scheduleObject = generateSchedule(this.racers.length, this.numRaces, this.racers.map(racer => racer.dbId));\r\n      console.log(scheduleObject);\r\n      if(this.scheduleType===\"Update Existing Schedule\"){\r\n        console.log(\"About to replace schedule\");\r\n        await replaceSchedule(this.user, this.scheduleName, scheduleObject.schedule)\r\n        console.log(\"Out of replace schedule\");\r\n      }\r\n      else if(this.newName!==\"\")\r\n      {\r\n        await replaceSchedule(this.user, this.newName, scheduleObject.schedule)\r\n        addScheduleName(this.user, this.newName, this.allScheduleNames);\r\n      }\r\n      this.sortRacersById();\r\n      if(this.newName!==\"\"){\r\n        this.scheduleType=\"Update Existing Schedule\";\r\n        this.$store.commit(\"updateScheduleName\", {name: this.newName});\r\n      }\r\n      // show stats?\r\n    },\r\n    nameChange(){\r\n      this.loadScreenData()\r\n    },\r\n    async loadScreenData(){\r\n      if(this.scheduleType===\"Create New\") this.clearScreenData();\r\n      else await this.$store.dispatch(\"getAllRacers\",{userId: this.user, scheduleName: this.scheduleName});\r\n      this.sortRacersById();\r\n    },\r\n    clearScreenData(){\r\n      this.removedRacers=[];\r\n      this.newName=\"\";\r\n      this.$store.commit(\"updateScheduleName\",{name: \"\"});\r\n      this.$store.commit(\"updateRacers\",{racersArr: [], racersMap: new Map()});\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n  .my-card{\r\n    margin-left:2.5%;\r\n    margin-right:2.5%;\r\n    margin-top:20px;\r\n  }\r\n  .my-row{\r\n    padding-left:2.5%;\r\n    padding-right:2.5%;\r\n    margin-left:2.5%;\r\n    margin-right:2.5%;\r\n    margin-top:15px;\r\n    margin-bottom: 20px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduleBuilder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduleBuilder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScheduleBuilder.vue?vue&type=template&id=151b75a0&\"\nimport script from \"./ScheduleBuilder.vue?vue&type=script&lang=js&\"\nexport * from \"./ScheduleBuilder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScheduleBuilder.vue?vue&type=style&index=0&id=151b75a0&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',[_c('br'),_c('ChooseName',{on:{\"change_name_event\":function($event){return _vm.loadPage()}}}),_c('br'),(_vm.scheduleName!=='')?_c('div',[_c('div',[_c('v-card',[_c('h3',[_vm._v(\" Race \"+_vm._s(_vm.currentRaceId+1)+\" / \"+_vm._s(_vm.Scorers.schedule.length)+\" \")])])],1),_c('br'),(_vm.render)?_c('div',{staticClass:\"main-content\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[(_vm.renderButton)?_c('v-card',{staticClass:\"my-card\",attrs:{\"elevation\":\"5\",\"color\":_vm.currentRaceScores[0] === 0 ? 'red' : 'red darken-4'},on:{\"click\":function($event){return _vm.scoreLane(0)}}},[_c('v-row',[((_vm.currentRaceScores[0]>0))?_c('v-col',[((_vm.currentRaceScores[0]===4))?_c('img',{attrs:{\"src\":require(\"@/assets/Gold-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[0]===3))?_c('img',{attrs:{\"src\":require(\"@/assets/Silver-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[0]===2))?_c('img',{attrs:{\"src\":require(\"@/assets/Bronze-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[0]===1))?_c('div',[_vm._v(\"L\")]):_vm._e()]):_vm._e(),_c('v-col',[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.currentRaceRacers[0]).id)+\" \")])],1)],1):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[(_vm.renderButton)?_c('v-card',{staticClass:\"my-card\",attrs:{\"elevation\":\"5\",\"color\":_vm.currentRaceScores[1] === 0 ? 'blue' : 'blue darken-4'},on:{\"click\":function($event){return _vm.scoreLane(1)}}},[_c('v-row',[((_vm.currentRaceScores[1]>0))?_c('v-col',[((_vm.currentRaceScores[1]===4))?_c('img',{attrs:{\"src\":require(\"@/assets/Gold-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[1]===3))?_c('img',{attrs:{\"src\":require(\"@/assets/Silver-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[1]===2))?_c('img',{attrs:{\"src\":require(\"@/assets/Bronze-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[1]===1))?_c('div',[_vm._v(\"L\")]):_vm._e()]):_vm._e(),_c('v-col',[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.currentRaceRacers[1]).id)+\" \")])],1)],1):_vm._e()],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[(_vm.renderButton)?_c('v-card',{staticClass:\"my-card\",attrs:{\"elevation\":\"5\",\"color\":_vm.currentRaceScores[2] === 0 ? 'green' : 'green darken-4'},on:{\"click\":function($event){return _vm.scoreLane(2)}}},[_c('v-row',[((_vm.currentRaceScores[2]>0))?_c('v-col',[((_vm.currentRaceScores[2]===4))?_c('img',{attrs:{\"src\":require(\"@/assets/Gold-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[2]===3))?_c('img',{attrs:{\"src\":require(\"@/assets/Silver-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[2]===2))?_c('img',{attrs:{\"src\":require(\"@/assets/Bronze-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[2]===1))?_c('div',[_vm._v(\"L\")]):_vm._e()]):_vm._e(),_c('v-col',[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.currentRaceRacers[2]).id)+\" \")])],1)],1):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[(_vm.renderButton)?_c('v-card',{staticClass:\"my-card\",attrs:{\"elevation\":\"5\",\"color\":_vm.currentRaceScores[3] === 0 ? 'yellow' : 'yellow darken-4'},on:{\"click\":function($event){return _vm.scoreLane(3)}}},[_c('v-row',[((_vm.currentRaceScores[3]>0))?_c('v-col',[((_vm.currentRaceScores[3]===4))?_c('img',{attrs:{\"src\":require(\"@/assets/Gold-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[3]===3))?_c('img',{attrs:{\"src\":require(\"@/assets/Silver-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[3]===2))?_c('img',{attrs:{\"src\":require(\"@/assets/Bronze-Medal.png\"),\"alt\":\"gold medal\",\"width\":\"40px\"}}):_vm._e(),((_vm.currentRaceScores[3]===1))?_c('div',[_vm._v(\"L\")]):_vm._e()]):_vm._e(),(_vm.currentRaceRacers[3])?_c('v-col',[_vm._v(\" \"+_vm._s(_vm.racersMap.get(_vm.currentRaceRacers[3]).id)+\" \")]):_c('v-col',[_vm._v(\" Empty \")])],1)],1):_vm._e()],1)],1),_c('br'),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[(!_vm.firstRace())?_c('v-btn',{attrs:{\"fab\":\"\"},on:{\"click\":_vm.previousRace}},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\" mdi-arrow-left-drop-circle-outline \")])],1):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"text\":\"\"},on:{\"click\":_vm.clearRace}},[_c('v-icon',{attrs:{\"large\":\"\",\"color\":\"red\"}},[_vm._v(\" mdi-cancel \")])],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[(_vm.allScored()&&_vm.lastRace())?_c('v-btn',{attrs:{\"fab\":\"\"},on:{\"click\":function($event){return _vm.finish()}}},[(_vm.lastRace())?_c('v-icon',{attrs:{\"large\":\"\",\"color\":\"green\"}},[_vm._v(\" mdi-check \")]):_vm._e()],1):_vm._e(),((_vm.allScored()&&!_vm.lastRace()))?_c('v-btn',{attrs:{\"fab\":\"\"},on:{\"click\":_vm.nextRace}},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\" mdi-arrow-right-drop-circle-outline \")])],1):_vm._e()],1)],1)],1):_vm._e()]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-app>\r\n        <br />\r\n        <ChooseName @change_name_event=\"loadPage()\" />\r\n        <br />\r\n        <div v-if=\"scheduleName!==''\">\r\n            <div>\r\n                <v-card>\r\n                    <h3>\r\n                        Race {{currentRaceId+1}} / {{Scorers.schedule.length}}\r\n                    </h3>\r\n                </v-card>\r\n            </div>\r\n            <br>\r\n\r\n            <div class=\"main-content\" v-if=\"render\">\r\n                <v-row>\r\n                    <v-col cols=\"6\">\r\n                        <v-card \r\n                        v-if=\"renderButton\"\r\n                        elevation=\"5\" \r\n                        :color=\"currentRaceScores[0] === 0 ? 'red' : 'red darken-4'\"\r\n                        class=\"my-card\"\r\n                        v-on:click=\"scoreLane(0)\">\r\n                            <v-row>\r\n                                <v-col v-if=\"(currentRaceScores[0]>0)\">\r\n                                    <img v-if=\"(currentRaceScores[0]===4)\" src=\"@/assets/Gold-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <img v-if=\"(currentRaceScores[0]===3)\" src=\"@/assets/Silver-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <img v-if=\"(currentRaceScores[0]===2)\" src=\"@/assets/Bronze-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <div v-if=\"(currentRaceScores[0]===1)\">L</div>\r\n                                </v-col>\r\n                                <v-col>\r\n                                    {{racersMap.get(currentRaceRacers[0]).id}}\r\n                                </v-col>\r\n                            </v-row>\r\n                        </v-card>\r\n                    </v-col>\r\n                    <v-col cols=\"6\">\r\n                        <v-card elevation=\"5\"\r\n                        v-if=\"renderButton\" \r\n                        :color=\"currentRaceScores[1] === 0 ? 'blue' : 'blue darken-4'\"\r\n                        class=\"my-card\"\r\n                        v-on:click=\"scoreLane(1)\">\r\n                            <v-row>\r\n                                <v-col v-if=\"(currentRaceScores[1]>0)\">\r\n                                    <img v-if=\"(currentRaceScores[1]===4)\" src=\"@/assets/Gold-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <img v-if=\"(currentRaceScores[1]===3)\" src=\"@/assets/Silver-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <img v-if=\"(currentRaceScores[1]===2)\" src=\"@/assets/Bronze-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <div v-if=\"(currentRaceScores[1]===1)\">L</div>\r\n                                </v-col>\r\n                                <v-col>\r\n                                    {{racersMap.get(currentRaceRacers[1]).id}}\r\n                                </v-col>\r\n                            </v-row>\r\n                        </v-card>\r\n                    </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                    <v-col cols=\"6\">\r\n                        <v-card elevation=\"5\" \r\n                        v-if=\"renderButton\"\r\n                        :color=\"currentRaceScores[2] === 0 ? 'green' : 'green darken-4'\"\r\n                        class=\"my-card\"\r\n                        v-on:click=\"scoreLane(2)\">\r\n                            <v-row>\r\n                                <v-col v-if=\"(currentRaceScores[2]>0)\">\r\n                                    <img v-if=\"(currentRaceScores[2]===4)\" src=\"@/assets/Gold-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <img v-if=\"(currentRaceScores[2]===3)\" src=\"@/assets/Silver-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <img v-if=\"(currentRaceScores[2]===2)\" src=\"@/assets/Bronze-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <div v-if=\"(currentRaceScores[2]===1)\">L</div>\r\n                                </v-col>\r\n                                <v-col>\r\n                                    {{racersMap.get(currentRaceRacers[2]).id}}\r\n                                </v-col>\r\n                            </v-row>\r\n                        </v-card>\r\n                    </v-col>\r\n                    <v-col cols=\"6\">\r\n                        <v-card elevation=\"5\"\r\n                        v-if=\"renderButton\"\r\n                        :color=\"currentRaceScores[3] === 0 ? 'yellow' : 'yellow darken-4'\"\r\n                        class=\"my-card\"\r\n                        v-on:click=\"scoreLane(3)\">\r\n                            <v-row>\r\n                                <v-col v-if=\"(currentRaceScores[3]>0)\">\r\n                                    <img v-if=\"(currentRaceScores[3]===4)\" src=\"@/assets/Gold-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <img v-if=\"(currentRaceScores[3]===3)\" src=\"@/assets/Silver-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <img v-if=\"(currentRaceScores[3]===2)\" src=\"@/assets/Bronze-Medal.png\" alt=\"gold medal\" width=\"40px\" />\r\n                                    <div v-if=\"(currentRaceScores[3]===1)\">L</div>\r\n                                </v-col>\r\n                                <v-col v-if=\"currentRaceRacers[3]\">\r\n                                    {{racersMap.get(currentRaceRacers[3]).id}}\r\n                                </v-col>\r\n                                <v-col v-else>\r\n                                    Empty\r\n                                </v-col>\r\n                            </v-row>\r\n                        </v-card>\r\n                    </v-col>\r\n                </v-row>\r\n                <br/>\r\n                <v-row>\r\n                    <v-col cols=\"4\">\r\n                        <v-btn \r\n                            v-on:click=\"previousRace\"\r\n                            fab\r\n                            v-if=\"!firstRace()\">\r\n                            <v-icon large>\r\n                                mdi-arrow-left-drop-circle-outline\r\n                            </v-icon>\r\n                        </v-btn>\r\n                    </v-col>\r\n                    <v-col cols=\"4\">\r\n                        <v-btn\r\n                            v-on:click=\"clearRace\"\r\n                            fab\r\n                            text>\r\n                            <v-icon \r\n                                large\r\n                                color=\"red\">\r\n                                mdi-cancel\r\n                            </v-icon>\r\n                        </v-btn>\r\n                    </v-col>\r\n                    <v-col cols=\"4\">\r\n                        <v-btn \r\n                            v-on:click=\"finish()\"\r\n                            fab\r\n                            v-if=\"allScored()&&lastRace()\"\r\n                            >\r\n                            <v-icon large \r\n                            v-if=\"lastRace()\"\r\n                            color=\"green\">\r\n                                mdi-check\r\n                            </v-icon>\r\n                        </v-btn>\r\n                        <v-btn \r\n                            v-on:click=\"nextRace\"\r\n                            fab\r\n                            v-if=\"(allScored()&&!lastRace())\"\r\n                            >\r\n                            <v-icon large>\r\n                                mdi-arrow-right-drop-circle-outline\r\n                            </v-icon>\r\n                        </v-btn>\r\n                        \r\n                    </v-col>\r\n                </v-row>\r\n            </div>\r\n        </div>\r\n        \r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport router from \"../router\";\r\nimport {updateScore} from \"../firebase\"\r\nimport ChooseName from \"../components/ChooseName.vue\";\r\nexport default {\r\n    name: \"Scorers\",\r\n    data: () => ({\r\n        currentRaceId: null,\r\n        currentRaceRacers: [],\r\n        currentRaceScores: [],\r\n        currentRaceAlreadyScored: false,\r\n        renderButton: true,\r\n        render: false,\r\n    }),\r\n    computed: {\r\n        ...mapState([\"Scorers\", \"scheduleId\", \"racersId\", \"racers\", \"racersMap\", \"scheduleName\", \"user\"]),\r\n    },\r\n    async created() {\r\n        if(this.scheduleName!==''){\r\n            await this.loadPage();\r\n        }\r\n    },\r\n    methods: {\r\n        async loadPage(){\r\n            window.scrollTo(0, 0);\r\n            this.render = false;\r\n            await this.$store.dispatch(\"getFullSchedule\", { userId: this.user, scheduleId: this.scheduleName });\r\n            await this.$store.dispatch(\"getAllRacers\", { userId: this.user, scheduleName: this.scheduleName });\r\n            this.currentRaceId = 0;\r\n            this.currentRaceRacers = this.Scorers.schedule[this.currentRaceId].racerIds;\r\n            this.currentRaceScores = this.Scorers.schedule[this.currentRaceId].racerScores;\r\n            this.render = true;\r\n        },\r\n        toHome() {\r\n            router.push({\r\n                path: \"/\",\r\n            });\r\n        },\r\n        nextRace() {\r\n            if (this.currentRaceId < this.Scorers.schedule.length - 1) {\r\n                if (!this.currentRaceAlreadyScored) {\r\n                    this.submitRaceScore();\r\n                }\r\n                this.currentRaceId++;\r\n                this.currentRaceRacers = this.Scorers.schedule[this.currentRaceId].racerIds;\r\n                this.currentRaceScores = this.Scorers.schedule[this.currentRaceId].racerScores;\r\n                if (this.allScored()) {\r\n                    this.currentRaceAlreadyScored = true;\r\n                }\r\n                else {\r\n                    this.currentRaceAlreadyScored = false;\r\n                }\r\n            }\r\n        },\r\n        previousRace() {\r\n            if (this.currentRaceId > 0) {\r\n                this.currentRaceId--;\r\n                this.currentRaceRacers = this.Scorers.schedule[this.currentRaceId].racerIds;\r\n                this.currentRaceScores = this.Scorers.schedule[this.currentRaceId].racerScores;\r\n                this.currentRaceAlreadyScored = true;\r\n            }\r\n        },\r\n        clearRace() {\r\n            for (let racer in this.currentRaceScores) {\r\n                this.currentRaceScores[racer] = 0;\r\n            }\r\n            this.renderButton = false;\r\n            this.$nextTick(() => {\r\n                this.renderButton = true;\r\n            });\r\n            this.currentRaceAlreadyScored = false;\r\n        },\r\n        scoreLane(laneNumber) {\r\n            if (this.currentRaceScores[laneNumber] > 0) {\r\n                return;\r\n            }\r\n            let counter = 0;\r\n            for (let i = 0; i < this.currentRaceScores.length; i++) {\r\n                if (this.currentRaceScores[i] > 0)\r\n                    counter += 1;\r\n            }\r\n            this.currentRaceScores[laneNumber] = 4 - counter;\r\n            this.renderButton = false;\r\n            this.$nextTick(() => {\r\n                this.renderButton = true;\r\n            });\r\n        },\r\n        allScored() {\r\n            for (let score in this.currentRaceScores) {\r\n                if (this.currentRaceScores[score] < 1) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n        lastRace() {\r\n            return this.Scorers.schedule.length - 1 === this.currentRaceId;\r\n        },\r\n        firstRace() {\r\n            return this.currentRaceId === 0;\r\n        },\r\n        finish() {\r\n            if (!this.currentRaceAlreadyScored) {\r\n                this.submitRaceScore();\r\n            }\r\n            this.toHome();\r\n        },\r\n        async submitRaceScore() {\r\n            await updateScore(this.user, this.scheduleName, this.currentRaceId, this.Scorers.schedule[this.currentRaceId]);\r\n        },\r\n    },\r\n    components: { ChooseName }\r\n};\r\n</script>\r\n\r\n<style>\r\n    .main-content{\r\n        margin:5%;\r\n    }\r\n    .my-card{\r\n        padding-top:25px;\r\n        padding-bottom:25px;\r\n        font-family:\"Le Mans Classic\";\r\n        font-weight: bold;\r\n        font-size: 60px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scorers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scorers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scorers.vue?vue&type=template&id=7b30636c&\"\nimport script from \"./Scorers.vue?vue&type=script&lang=js&\"\nexport * from \"./Scorers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Scorers.vue?vue&type=style&index=0&id=7b30636c&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('br'),_c('ChooseName',{on:{\"change_name_event\":function($event){return _vm.loadPageData()}}}),_c('br'),(_vm.rendered && _vm.scheduleName!=='')?_c('v-card',_vm._l((_vm.Scorers.schedule),function(race,index){return _c('v-card',{key:index},[_c('v-row',[_c('v-col',[_vm._v(\" \"+_vm._s(index+1)+\" \")]),_c('v-col',[_c('v-card',{attrs:{\"color\":\"red\"}},[_vm._v(\" \"+_vm._s(_vm.racersMap.get(race.racerIds[0]).id)+\" (\"+_vm._s(_vm.racersMap.get(race.racerIds[0]).name)+\") \")])],1),_c('v-col',[_c('v-card',{attrs:{\"color\":\"blue\"}},[_vm._v(\" \"+_vm._s(_vm.racersMap.get(race.racerIds[1]).id)+\" (\"+_vm._s(_vm.racersMap.get(race.racerIds[1]).name)+\") \")])],1),_c('v-col',[_c('v-card',{attrs:{\"color\":\"green\"}},[_vm._v(\" \"+_vm._s(_vm.racersMap.get(race.racerIds[2]).id)+\" (\"+_vm._s(_vm.racersMap.get(race.racerIds[2]).name)+\") \")])],1),_c('v-col',[_c('v-card',{attrs:{\"color\":\"yellow\"}},[(race.racerIds.length < 4)?_c('div',[_vm._v(\" Empty Lane \")]):_c('div',[_vm._v(\" \"+_vm._s(_vm.racersMap.get(race.racerIds[3]).id)+\" (\"+_vm._s(_vm.racersMap.get(race.racerIds[3]).name)+\") \")])])],1)],1)],1)}),1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <br>\r\n    <ChooseName @change_name_event=\"loadPageData()\" />\r\n    <br>\r\n    <v-card v-if=\"rendered && scheduleName!==''\">\r\n        <v-card v-for=\"(race, index) in Scorers.schedule\" :key=\"index\">\r\n            <v-row>\r\n                <v-col>\r\n                    {{ index+1 }}\r\n                </v-col>\r\n                <v-col>\r\n                    <v-card\r\n                        color=\"red\"\r\n                    >\r\n                        {{racersMap.get(race.racerIds[0]).id}} ({{ racersMap.get(race.racerIds[0]).name }})\r\n                    </v-card>\r\n                </v-col>\r\n                <v-col>\r\n                    <v-card\r\n                        color=\"blue\"\r\n                    >\r\n                        {{ racersMap.get(race.racerIds[1]).id }} ({{ racersMap.get(race.racerIds[1]).name }})\r\n                    </v-card>\r\n                </v-col>\r\n                <v-col>\r\n                    <v-card\r\n                        color=\"green\"\r\n                    >\r\n                        {{ racersMap.get(race.racerIds[2]).id }} ({{ racersMap.get(race.racerIds[2]).name }})\r\n                    </v-card>\r\n                </v-col>\r\n                <v-col>\r\n                    <v-card\r\n                        color=\"yellow\"    \r\n                    >\r\n                        <div v-if=\"race.racerIds.length < 4\">\r\n                            Empty Lane\r\n                        </div>\r\n                        <div v-else>\r\n                            {{ racersMap.get(race.racerIds[3]).id }} ({{ racersMap.get(race.racerIds[3]).name }})\r\n                        </div>\r\n                    </v-card>\r\n                </v-col>\r\n            </v-row>\r\n        </v-card>\r\n    </v-card>\r\n    </div>  \r\n</template>\r\n\r\n<script>\r\nimport router from \"@/router/index.js\";\r\nimport { mapState } from \"vuex\";\r\nimport ChooseName from \"../components/ChooseName.vue\";\r\nexport default {\r\n    name: \"Schedule\",\r\n    components:{\r\n    ChooseName\r\n},\r\n    data: ()=>({\r\n        rendered: false,\r\n    }),\r\n    computed: {\r\n        ...mapState([\"scheduleId\", \"Scorers\", \"racersId\", \"racersMap\",\"user\", \"scheduleName\"]),\r\n    },\r\n    async created(){\r\n        if(this.scheduleName!==\"\"){\r\n            this.loadPageData();\r\n        }\r\n    },\r\n    methods: {\r\n        async loadPageData(){\r\n            this.rendered=false;\r\n            await this.$store.dispatch(\"getFullSchedule\", {userId: this.user, scheduleId: this.scheduleName});\r\n            await this.$store.dispatch(\"getAllRacers\", {userId: this.user, scheduleName: this.scheduleName});\r\n            this.rendered=true;\r\n        },\r\n        toHome() {\r\n            router.push({\r\n                path: \"/\",\r\n            });\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Schedule.vue?vue&type=template&id=1f2cc9b8&\"\nimport script from \"./Schedule.vue?vue&type=script&lang=js&\"\nexport * from \"./Schedule.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',[_c('div',{staticClass:\"login-card\"},[_c('v-card',{attrs:{\"elevation\":\"5\"}},[_c('v-form',{staticClass:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[(_vm.loginForm==='login')?_c('div',[_c('v-text-field',{attrs:{\"rules\":_vm.emailRule,\"label\":\"Email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{attrs:{\"rules\":_vm.passwordRule,\"label\":\"Password\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('span',{staticClass:\"_red\"},[_vm._v(_vm._s(_vm.errorMessage))]),_c('v-btn',{attrs:{\"block\":\"\",\"color\":\"primary\",\"disabled\":!_vm.valid},on:{\"click\":_vm.login}},[_vm._v(\" Login \")]),_c('br'),_c('v-btn',{attrs:{\"block\":\"\"},on:{\"click\":_vm.switchToForgotPassword}},[_vm._v(\" Forgot Password \")]),_c('br'),_c('br'),_c('span',[_vm._v(\"Don't have an account? \"),_c('a',{on:{\"click\":_vm.switchToRegister}},[_vm._v(\"Register\")])])],1):(_vm.loginForm==='forgotPassword')?_c('div',[_c('v-text-field',{attrs:{\"rules\":_vm.emailRule,\"label\":\"Email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('br'),_c('span',{staticClass:\"_red\"},[_vm._v(_vm._s(_vm.errorMessage))]),_c('br'),_c('v-btn',{attrs:{\"block\":\"\",\"color\":\"primary\",\"disabled\":!_vm.valid},on:{\"click\":_vm.forgotPassword}},[_vm._v(\" Send password recovery email \")]),_c('br'),_c('a',{on:{\"click\":_vm.switchToLogin}},[_vm._v(\"Back to login\")])],1):_c('div',[_c('v-text-field',{attrs:{\"rules\":_vm.emailRule,\"label\":\"Email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{attrs:{\"rules\":_vm.passwordRule,\"label\":\"Password\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('span',{staticClass:\"_red\"},[_vm._v(_vm._s(_vm.errorMessage))]),_c('v-btn',{attrs:{\"block\":\"\",\"color\":\"primary\",\"disabled\":!_vm.valid},on:{\"click\":_vm.register}},[_vm._v(\" Register \")]),_c('br'),_c('a',{on:{\"click\":_vm.switchToLogin}},[_vm._v(\"Back to login\")])],1)])],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app>\r\n    <div class=\"login-card\">\r\n\r\n    \r\n    <v-card elevation=\"5\">\r\n      <v-form class=\"form\" v-model=\"valid\">\r\n        <div v-if=\"loginForm==='login'\">\r\n          <v-text-field\r\n          v-model=\"email\"\r\n          :rules=\"emailRule\"\r\n          label=\"Email\">\r\n\r\n          </v-text-field>\r\n          <v-text-field\r\n            v-model=\"password\"\r\n            :rules=\"passwordRule\"\r\n            label=\"Password\"\r\n            type=\"password\">\r\n          </v-text-field>\r\n          <span class=\"_red\">{{errorMessage}}</span>\r\n          <v-btn\r\n            block\r\n            color=\"primary\"\r\n            @click=\"login\"\r\n            :disabled=\"!valid\">\r\n            Login\r\n          </v-btn>\r\n          <br/>\r\n          <v-btn\r\n          block\r\n          @click=\"switchToForgotPassword\">\r\n            Forgot Password\r\n          </v-btn>\r\n          <br/>\r\n          <br/>\r\n          <span>Don't have an account? <a @click=\"switchToRegister\">Register</a></span>\r\n        </div>\r\n        <div v-else-if=\"loginForm==='forgotPassword'\">\r\n          <v-text-field\r\n          v-model=\"email\"\r\n          :rules=\"emailRule\"\r\n          label=\"Email\">\r\n\r\n          </v-text-field>\r\n          <br/>\r\n          <span class=\"_red\">{{errorMessage}}</span>\r\n          <br/>\r\n          <v-btn\r\n            block\r\n            color=\"primary\"\r\n            @click=\"forgotPassword\"\r\n            :disabled=\"!valid\">\r\n            Send password recovery email\r\n          </v-btn>\r\n          <br/>\r\n          <a @click=\"switchToLogin\">Back to login</a>\r\n        </div>\r\n        <div v-else>\r\n          <v-text-field\r\n          v-model=\"email\"\r\n          :rules=\"emailRule\"\r\n          label=\"Email\">\r\n\r\n          </v-text-field>\r\n          <v-text-field\r\n            v-model=\"password\"\r\n            :rules=\"passwordRule\"\r\n            label=\"Password\"\r\n            type=\"password\">\r\n          </v-text-field>\r\n          <span class=\"_red\">{{errorMessage}}</span>\r\n          <v-btn\r\n            block\r\n            color=\"primary\"\r\n            @click=\"register\"\r\n            :disabled=\"!valid\">\r\n            Register\r\n          </v-btn>\r\n          <br/>\r\n          <a @click=\"switchToLogin\">Back to login</a>\r\n        </div>\r\n      </v-form>\r\n        \r\n    </v-card>\r\n  </div>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport {loginWithEmailAndPassword, forgotPasswordEmail, createUser} from \"../firebase\"\r\nimport router from \"../router\";\r\nexport default {\r\n    name: \"Login\",\r\n    data: ()=> ({\r\n      email: \"\",\r\n      password: \"\",\r\n      emailRule: [\r\n      v => v !=\"\" || \"Email Required\",\r\n      ],\r\n      passwordRule: [\r\n      v => v !=\"\" || \"Password Required\",\r\n      ],\r\n      valid: false,\r\n      errorMessage: \"\",\r\n      loginForm: \"login\",\r\n    }),\r\n    methods:{\r\n      switchToRegister(){\r\n        this.loginForm=\"register\"\r\n        this.errorMessage=\"\"\r\n      },\r\n      async register(){\r\n        try{\r\n          const user = await createUser(this.email,this.password);\r\n          console.log(user.uid);\r\n          router.push({\r\n            path: \"/\",\r\n          });\r\n        } catch(error){\r\n          console.log(error.message);\r\n          this.errorMessage=\"User with this email already exists\"\r\n        }\r\n      },\r\n      switchToLogin(){\r\n        this.loginForm=\"login\"\r\n        this.errorMessage=\"\"\r\n      },\r\n      async login(){\r\n        try{\r\n          const user = await loginWithEmailAndPassword(this.email, this.password);\r\n          this.errorMessage=\"\";\r\n          console.log(user.uid)\r\n          router.push({\r\n            path: \"/\",\r\n          });\r\n        } catch(error){\r\n          this.errorMessage=\"Invalid login information\";\r\n          console.log(error.message);\r\n        }\r\n      },\r\n      switchToForgotPassword(){\r\n        this.loginForm=\"forgotPassword\";\r\n        this.errorMessage=\"\"\r\n      },\r\n      async forgotPassword(){\r\n        try{\r\n          console.log(await forgotPasswordEmail(this.email));\r\n\r\n        } catch(error){\r\n          console.log(error.message);\r\n          this.errorMessage=\"User with this email does not exist.\"\r\n        }\r\n        \r\n      },\r\n      \r\n    },\r\n    \r\n}\r\n</script>\r\n\r\n<style>\r\n.login-card{\r\n  padding-left:15%;\r\n  padding-right:15%;\r\n  padding-top:25px;\r\n}\r\n.form{\r\n  padding:10%;\r\n}\r\n._red{\r\n  color:red;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=004703c4&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=004703c4&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"large-font\"},[_vm._v(\" 404 Sorry, the page you are looking for is not found \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"large-font\">\r\n    404 Sorry, the page you are looking for is not found\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:\"PageNotFound\",\r\n}\r\n</script>\r\n\r\n<style>\r\n.large-font{\r\n    font-size:75px;\r\n    font-weight: bold;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageNotFound.vue?vue&type=template&id=8e26f030&\"\nimport script from \"./PageNotFound.vue?vue&type=script&lang=js&\"\nexport * from \"./PageNotFound.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageNotFound.vue?vue&type=style&index=0&id=8e26f030&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._v(\"logging you out...\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>logging you out...</div>\r\n</template>\r\n\r\n<script>\r\nimport { logOut } from '../firebase';\r\nimport router from '../router';\r\n\r\nexport default {\r\n    name:\"Logout\",\r\n    async created(){\r\n        await logOut();\r\n        this.$store.commit(\"lootStore\");\r\n        router.push({\r\n            name:\"Home\",\r\n        });\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Logout.vue?vue&type=template&id=72e131ce&\"\nimport script from \"./Logout.vue?vue&type=script&lang=js&\"\nexport * from \"./Logout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport Home from \"../views/Home.vue\";\r\nimport ScoreBoard from \"../views/ScoreBoard.vue\";\r\nimport Dad from \"../views/Dad.vue\";\r\nimport ScheduleBuilder from \"../views/ScheduleBuilder.vue\";\r\nimport Scorers from \"../views/Scorers.vue\";\r\nimport Schedule from \"../views/Schedule.vue\";\r\nimport Login from \"../views/Login.vue\";\r\nimport PageNotFound from \"../views/PageNotFound.vue\";\r\nimport Logout from \"../views/Logout.vue\";\r\n\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/\",\r\n    name: \"Home\",\r\n    component: Home,\r\n    \r\n  },\r\n  {\r\n    path: \"/ScoreBoard\",\r\n    name: \"ScoreBoard\",\r\n    component: ScoreBoard,\r\n    meta:{\r\n      requiresAuth: true,\r\n    }\r\n  },\r\n  {\r\n    path: \"/Dad\",\r\n    name: \"Dad\",\r\n    component: Dad,\r\n    meta:{\r\n      requiresAuth: true,\r\n    }\r\n  },\r\n  {\r\n    path: \"/schedule-builder\",\r\n    name: \"ScheduleBuilder\",\r\n    component: ScheduleBuilder,\r\n    meta:{\r\n      requiresAuth: true,\r\n    }\r\n  },\r\n  {\r\n    path: \"/schedule\",\r\n    name: \"Schedule\",\r\n    component: Schedule,\r\n    meta:{\r\n      requiresAuth: true,\r\n    }\r\n  },\r\n  {\r\n    path: \"/scorers\",\r\n    name: \"Scorers\",\r\n    component: Scorers,\r\n    meta:{\r\n      requiresAuth: true,\r\n    }\r\n  },\r\n  {\r\n    path: \"/login\",\r\n    name: \"Login\",\r\n    component: Login,\r\n  },\r\n  {\r\n    path: \"/logout\",\r\n    name: \"Logout\",\r\n    component: Logout,\r\n    meta:{\r\n      requiresAuth: true,\r\n    },\r\n  },\r\n  {\r\n    path: \"/page-not-found\",\r\n    name:\"PageNotFound\",\r\n    component: PageNotFound,\r\n  },\r\n  {\r\n    path: \"*\",\r\n    beforeEnter: (next)=>{next({name:\"PageNotFound\"})}\r\n  },\r\n];\r\n\r\nconst router = new VueRouter({\r\n  routes,\r\n});\r\n\r\n// navigation guard\r\nrouter.beforeEach((to, from, next)=>{\r\n  try{\r\n    if(to.matched.some(record=>record.meta.requiresAuth) && !router.app.$store.getters.isLoggedIn){\r\n      next({name: \"PageNotFound\"})\r\n    }\r\n    else{\r\n      next();\r\n    }\r\n  } catch(e){\r\n    console.log(\"May need to find a better solution to this... Look in router navigation guard\")\r\n    next();\r\n  }\r\n  \r\n  \r\n});\r\n\r\nexport default router;\r\n","<template>\r\n  <div>\r\n      <v-layout>\r\n        <v-app-bar\r\n        color=\"primary\"\r\n        density=\"compact\"\r\n        >\r\n          <v-app-bar-title>Pine Car Derby</v-app-bar-title>\r\n          <v-spacer></v-spacer>\r\n          <v-btn @click=\"toHome\" icon><v-icon>mdi-home</v-icon></v-btn>\r\n          <v-menu\r\n          left\r\n          bottom\r\n        >\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-btn\r\n              icon\r\n              v-bind=\"attrs\"\r\n              v-on=\"on\"\r\n            >\r\n              <v-icon>mdi-dots-vertical</v-icon>\r\n            </v-btn>\r\n          </template>\r\n  \r\n          <v-list>\r\n            <v-list-item\r\n              key=\"ScheduleBuilder\"\r\n              @click=\"toScheduleBuilder\"\r\n            >\r\n              <v-list-item-title>Schedule Builder</v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item\r\n              key=\"Scorers\"\r\n              @click=\"toScorers\"\r\n            >\r\n              <v-list-item-title>Scorers</v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item\r\n              key=\"ScoreBoard\"\r\n              @click=\"toScoreBoard\"\r\n            >\r\n              <v-list-item-title>Score Board</v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item\r\n              key=\"Dad\"\r\n              @click=\"toDad\"\r\n            >\r\n              <v-list-item-title>Dad's Screen</v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item\r\n              key=\"Logout\"\r\n              @click=\"logout\"\r\n            >\r\n              <v-list-item-title>Logout</v-list-item-title>\r\n            </v-list-item>\r\n          </v-list>\r\n        </v-menu>\r\n          \r\n        </v-app-bar>\r\n      </v-layout>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport router from '../router';\r\n\r\nexport default {\r\n    name: \"LoggedInNavbar\",\r\n    components:{\r\n    },\r\n    methods:{\r\n      toHome(){\r\n        if(this.$route.path !==\"/\"){\r\n          router.push({\r\n          path: \"/\",\r\n          });\r\n        }\r\n      },\r\n      toScoreBoard() {\r\n        if(this.$route.path !==\"/scoreboard\"){\r\n          router.push({\r\n          path: \"/scoreboard\",\r\n        });\r\n        }\r\n    },\r\n    toDad() {\r\n      if(this.$route.path !==\"/dad\"){\r\n          router.push({\r\n          path: \"/dad\",\r\n          });\r\n        }\r\n    },\r\n    toScheduleBuilder() {\r\n      if(this.$route.path !==\"/schedule-builder\"){\r\n          router.push({\r\n          path: \"/schedule-builder\",\r\n          });\r\n        }\r\n    },\r\n    toSchedule() {\r\n      if(this.$route.path !==\"/schedule\"){\r\n          router.push({\r\n          path: \"/schedule\",\r\n          });\r\n        }\r\n    },\r\n    toScorers() {\r\n      if(this.$route.path !==\"/scorers\"){\r\n          router.push({\r\n          path: \"/scorers\",\r\n          });\r\n        }\r\n    },\r\n    logout(){\r\n      router.push({\r\n          path: \"/logout\",\r\n          });\r\n    },\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoggedInNavbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoggedInNavbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoggedInNavbar.vue?vue&type=template&id=1868b102&\"\nimport script from \"./LoggedInNavbar.vue?vue&type=script&lang=js&\"\nexport * from \"./LoggedInNavbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-layout',[_c('v-app-bar',{attrs:{\"color\":\"primary\",\"density\":\"compact\"}},[_c('v-app-bar-title',[_vm._v(\"Pine Car Derby\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.goToHome}},[_c('v-icon',[_vm._v(\"mdi-home\")])],1),_c('v-menu',{attrs:{\"left\":\"\",\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}])},[_c('v-list',[_c('v-list-item',{key:\"Login\",on:{\"click\":_vm.goToLogin}},[_c('v-list-item-title',[_vm._v(\"Login\")])],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <v-layout>\r\n            <v-app-bar\r\n            color=\"primary\"\r\n            density=\"compact\"\r\n        >\r\n            <v-app-bar-title>Pine Car Derby</v-app-bar-title>\r\n            <v-spacer></v-spacer>\r\n            <v-btn @click=\"goToHome\" icon><v-icon>mdi-home</v-icon></v-btn>\r\n            <v-menu\r\n                left\r\n                bottom\r\n                >\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                    icon\r\n                    v-bind=\"attrs\"\r\n                    v-on=\"on\"\r\n                    >\r\n                    <v-icon>mdi-dots-vertical</v-icon>\r\n                    </v-btn>\r\n                </template>\r\n        \r\n                <v-list>\r\n                    <v-list-item\r\n                    key=\"Login\"\r\n                    @click=\"goToLogin\"\r\n                    >\r\n                    <v-list-item-title>Login</v-list-item-title>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n        </v-app-bar>\r\n        </v-layout>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport router from \"@/router/index.js\";\r\nexport default {\r\n    name: \"LoggedOutNavbar\",\r\n    methods:{\r\n        goToLogin(){\r\n            if(this.$route.path!==\"/login\"){\r\n                router.push({\r\n                    path: \"/login\",\r\n                });\r\n            }\r\n        },\r\n        goToHome(){\r\n            if(this.$route.path !=\"/\"){\r\n                router.push({\r\n                path: \"/\",\r\n                });\r\n            }\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoggedOutNavbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoggedOutNavbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoggedOutNavbar.vue?vue&type=template&id=7bf62458&\"\nimport script from \"./LoggedOutNavbar.vue?vue&type=script&lang=js&\"\nexport * from \"./LoggedOutNavbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <v-app>\r\n      <LoggedInNavbar v-if=\"user!==''\"/>\r\n      <LoggedOutNavbar v-else/>   \r\n      <router-view />\r\n      </v-app>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LoggedInNavbar from '@/components/LoggedInNavbar.vue';\r\nimport LoggedOutNavbar from '@/components/LoggedOutNavbar.vue';\r\nimport { mapState } from 'vuex';\r\n  export default {\r\n    name: \"App\",\r\n    components: {\r\n      LoggedInNavbar,\r\n      LoggedOutNavbar,\r\n    },\r\n    async created(){\r\n      await this.$store.dispatch(\"subscribeToUser\");\r\n      console.log(this.user)\r\n    },\r\n    computed: {\r\n    ...mapState([\"user\"]),\r\n  },\r\n  }\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\n#nav {\r\n  padding: 30px;\r\n}\r\n\r\n#nav a {\r\n  font-weight: bold;\r\n  color: #2c3e50;\r\n}\r\n\r\n#nav a.router-link-exact-active {\r\n  color: #42b983;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=115ffb68&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=115ffb68&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport {db, getScheduleRaces, auth} from \"../firebase\";\r\nimport { collection, getDocs, getDoc, writeBatch, doc, query, onSnapshot } from \"firebase/firestore\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport VuexPersistence from \"vuex-persist\"\r\n\r\nVue.use(Vuex);\r\n\r\n// save user in session storage\r\nconst vuexSessionStorage = new VuexPersistence({\r\n  key: \"store\",\r\n  storage: window.sessionsStorage,\r\n  reducer: (state) =>({\r\n    user: state.user,\r\n    scheduleName: state.scheduleName,\r\n  })\r\n})\r\n\r\nconst store = new Vuex.Store({\r\n  plugins:[vuexSessionStorage.plugin],\r\n  state: {\r\n    // User ID (this eventually needs to be made persistent via session storage)\r\n    user: \"\",\r\n    scheduleName: \"\",\r\n    allScheduleNames: [],\r\n\r\n    // Schedule\r\n    racers: [],\r\n    racersMap: new Map(),\r\n    schedule: [],\r\n\r\n    //Scorers\r\n    Scorers: {\r\n      schedule: [],\r\n      currentRaceId: null,\r\n      currentRaceRacers: [],\r\n      currentRaceScores: [],\r\n    },\r\n    ScoreBoard:{\r\n      scoreBoard:[],\r\n    },\r\n  },\r\n  getters:\r\n  {\r\n    isLoggedIn(state){\r\n      return state.user !== \"\"\r\n    },\r\n  },\r\n  mutations: {\r\n    lootStore(state){\r\n      state.user=\"\";\r\n      state.scheduleName=\"\",\r\n      state.allScheduleNames=[];\r\n      state.racers=[];\r\n      state.racersMap=new Map();\r\n      state.schedule=[];\r\n      state.Scorers ={\r\n        schedule:[],\r\n        currentRaceId:[],\r\n        currentRaceRacers:[],\r\n        currentRaceScores:[],\r\n      };\r\n      state.ScoreBoard={\r\n        scoreBoard:[],\r\n      }\r\n    },\r\n    doNothing(){\r\n      console.log(\"This needs to be cleaned up. Do nothing mutation in store...\")\r\n    },\r\n    updateRacers(state, {racersArr, racersMap}){\r\n      state.racers = racersArr;\r\n      state.racersMap = racersMap;\r\n    },\r\n    // Scorers\r\n    updateSchedule(state, { schedule}) {\r\n      state.Scorers.schedule = schedule;\r\n    },\r\n    updateCurrentRace(\r\n      state,\r\n      { currentRaceId, currentRaceRacers, currentRaceScores }\r\n    ) {\r\n      state.Scorers.currentRaceId = currentRaceId;\r\n      state.Scorers.currentRaceRacers = currentRaceRacers;\r\n      state.Scorers.currentRaceScores = currentRaceScores;\r\n    },\r\n    //Score Board\r\n    updateScoreBoard(state, {scoreBoard}){\r\n      state.ScoreBoard.scoreBoard=scoreBoard;\r\n    },\r\n    updateUser(state,{user}){\r\n      state.user=user;\r\n    },\r\n    updateAllScheduleNames(state,{names}){\r\n      state.allScheduleNames=names;\r\n    },\r\n    updateScheduleName(state, {name}){\r\n      state.scheduleName=name;\r\n    },\r\n  },\r\n  actions: {\r\n    async updateAllRacers({commit}, {userId, scheduleName, newRacerList, removedRacers}){\r\n      // create batch to update racer if already in collection\r\n      // also add racer if not already in db\r\n      const batch = writeBatch(db);\r\n      for(let i = 0; i < newRacerList.length; i++){\r\n          if(newRacerList[i].dbId === undefined){\r\n              // gets autogenerated ref\r\n              let myNewRef = doc(collection(db, \"Users\", userId, \"MasterSchedules\", scheduleName, \"Racers\"));\r\n              batch.set(myNewRef, { name: newRacerList[i].name, id: newRacerList[i].id, score: 0 });\r\n          }\r\n          else{\r\n              const myRef = doc(db, \"Users\",userId,\"MasterSchedules\", scheduleName, \"Racers\", newRacerList[i].dbId);\r\n              batch.update(myRef, { name: newRacerList[i].name, id: newRacerList[i].id, score: 0 });\r\n          }\r\n      }\r\n      for(let i = 0; i < removedRacers.length; i++){\r\n          if(removedRacers[i].dbId === undefined) continue;\r\n\r\n          let myRemRef = doc(db, \"Users\",userId,\"MasterSchedules\", scheduleName, \"Racers\", removedRacers[i].dbId);\r\n          batch.delete(myRemRef);\r\n      }\r\n      \r\n      await batch.commit();\r\n\r\n      commit(\"doNothing\");\r\n    },\r\n    async getAllRacers({commit}, {userId, scheduleName}){\r\n      if(!scheduleName){\r\n        console.log(\"Get all racers was called with no schedule name\");\r\n        return;\r\n      }\r\n      const query = await getDocs(collection(db, \"Users\", userId, \"MasterSchedules\", scheduleName, \"Racers\"));\r\n      let allRacers = [];\r\n      let allRacersMap = new Map();\r\n      query.forEach((doc)=> {\r\n          let racer = doc.data();\r\n          allRacersMap.set(doc.id, racer);\r\n          racer.dbId = doc.id;\r\n          allRacers.push(racer);\r\n      });\r\n      commit(\"updateRacers\",{\r\n        racersArr: allRacers,\r\n        racersMap: allRacersMap,\r\n      });\r\n    },\r\n    //Scorers\r\n    async getFullSchedule({commit}, {userId, scheduleId}) {\r\n      let mySchedule = await getScheduleRaces(userId, scheduleId);\r\n      commit(\"updateSchedule\", { schedule: mySchedule });\r\n      \r\n    },\r\n    async subscribeToScoreBoard({commit}, {userId, scheduleName}){\r\n      // Make sure all racers is up to date\r\n      const myQuery = query(collection(db,\"Users\", userId, \"MasterSchedules\",scheduleName,\"Racers\"));\r\n      let myScoreBoard=[];\r\n      return onSnapshot(myQuery,(snapshot) =>\r\n      {\r\n        myScoreBoard= [];\r\n        snapshot.forEach((doc) =>{\r\n          myScoreBoard.push({racerNumber: doc.data().id, racerName: doc.data().name, racerScore: doc.data().score, numberOfRaces: \"NA\"})\r\n        });\r\n        let sortedScoreBoard = myScoreBoard.sort((a,b) => b.racerScore-a.racerScore);\r\n        commit(\"updateScoreBoard\", { scoreBoard: sortedScoreBoard });\r\n      });\r\n    },\r\n\r\n    async subscribeToUser({commit}){\r\n      onAuthStateChanged(auth, (user) => {\r\n        if (user) {\r\n          commit(\"updateUser\",{user: user.uid});\r\n          console.log(\"Auth State Changed\", user.uid);\r\n        } else {\r\n          commit(\"updateUser\",{user:\"\"});\r\n          console.log(\"Auth State Changed. No user\");\r\n        }\r\n        \r\n      });\r\n      \r\n    },\r\n    async getAllScheduleNames({state}){\r\n      console.log(\"Getting Names\",state.user);\r\n      if(state.user !== \"\"){\r\n        let names = (await getDoc(doc(db,\"Users\",state.user))).data();\r\n        this.commit(\"updateAllScheduleNames\",{names: names.Names});\r\n        console.log(\"success\", state.allScheduleNames)\r\n      }\r\n      \r\n    }\r\n  },\r\n});\r\n\r\nexport default store;\r\n","import Vue from \"vue\";\r\nimport Vuetify from \"vuetify/lib/framework\";\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({});\r\n","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\nimport store from \"./store\";\r\nimport vuetify from \"./plugins/vuetify\";\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  vuetify,\r\n  render: (h) => h(App),\r\n}).$mount(\"#app\");\r\n","module.exports = __webpack_public_path__ + \"img/Bronze-Medal.2e7364e9.png\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=115ffb68&prod&lang=css&\"","module.exports = __webpack_public_path__ + \"img/Gold-Medal.be967fed.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=004703c4&prod&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scorers.vue?vue&type=style&index=0&id=7b30636c&prod&lang=css&\"","module.exports = __webpack_public_path__ + \"img/Silver-Medal.73b48fac.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNotFound.vue?vue&type=style&index=0&id=8e26f030&prod&lang=css&\""],"sourceRoot":""}